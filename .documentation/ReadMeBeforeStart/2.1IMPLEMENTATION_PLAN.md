# EcoSphere å°åž‹ç³»ç»ŸåŽŸåž‹ - å®Œæ•´å®žçŽ°è®¡åˆ’

**æœ€åŽæ›´æ–°**: 2025-11-28
**çŠ¶æ€**: âœ… P0å·²å®Œæˆ | ðŸ”„ P1è¿›è¡Œä¸­
**ä¼˜å…ˆçº§**: é«˜
**é¡¹ç›®é˜¶æ®µ**: Phase 3 - Small System Prototype
**ç‰ˆæœ¬**: 4.0 (æ ¹æ®å®žé™…å¼€å‘æƒ…å†µæ›´æ–°)

---

## ðŸŽ¯ å®žæ–½è¿›åº¦æ€»è§ˆ

| ä¼˜å…ˆçº§ | æ¨¡å—              | çŠ¶æ€          | å®Œæˆåº¦ |
| ------ | ----------------- | ------------- | ------ |
| P0     | ç™»å½•æ¨¡å—          | âœ… å®Œæˆ       | 100%   |
| P0     | ç”¨æˆ·ç®¡ç†æ¨¡å—      | âœ… å®Œæˆ       | 100%   |
| P0     | ç¢³è¶³è¿¹è¿½è¸ªæ¨¡å—    | âœ… å®Œæˆ       | 100%   |
| P1     | ç”µåŠ›ä»ªè¡¨æ¿æ¨¡å—    | â³ å¾…å¼€å§‹     | 0%     |
| P2     | å…¶ä»–Reportæ¨¡å—    | â¸ï¸ Skeleton | 0%     |
| P2     | Forecasté¢„æµ‹åŠŸèƒ½  | â¸ï¸ Skeleton | 0%     |
| P2     | Period Comparison | â¸ï¸ Skeleton | 0%     |
| P2     | 3Då¯è§†åŒ–          | â¸ï¸ Skeleton | 0%     |

**æ€»ä½“è¿›åº¦**: P0 âœ… 100% | P1 â³ 0% | P2 â¸ï¸ 0%

---

## ðŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [åŽŸåž‹èŒƒå›´](#åŽŸåž‹èŒƒå›´)
3. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
4. [ç±»å›¾ä¸¥æ ¼éµå¾ªåŽŸåˆ™](#ç±»å›¾ä¸¥æ ¼éµå¾ªåŽŸåˆ™)
5. [æ ¸å¿ƒç±»å®šä¹‰](#æ ¸å¿ƒç±»å®šä¹‰)
6. [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
7. [åŽç«¯å®žçŽ°](#åŽç«¯å®žçŽ°)
8. [å‰ç«¯å®žçŽ°](#å‰ç«¯å®žçŽ°)
9. [å®žçŽ°æ­¥éª¤](#å®žçŽ°æ­¥éª¤)
10. [ç±»å›¾å…³ç³»æ£€æŸ¥æ¸…å•](#ç±»å›¾å…³ç³»æ£€æŸ¥æ¸…å•)
11. [å‚è€ƒæ–‡æ¡£](#å‚è€ƒæ–‡æ¡£)

---

## é¡¹ç›®æ¦‚è¿°

### èƒŒæ™¯

EcoSphereæ˜¯ä¸ºSAITçš„Green Building Technology Access Centre (GBTAC)å¼€å‘çš„æ™ºèƒ½å»ºç­‘åˆ†æžç³»ç»Ÿã€‚
ç³»ç»Ÿé€šè¿‡ä¼ æ„Ÿå™¨æ”¶é›†å»ºç­‘çš„æ°´ã€ç”µã€çƒ­èƒ½æ•°æ®ï¼Œå­˜å‚¨åœ¨SQL Serveræ•°æ®åº“ä¸­ï¼ŒEcoSphereä»¥åªè¯»æ–¹å¼è®¿é—®è¿™äº›æ•°æ®ï¼Œ
ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šã€é¢„æµ‹åˆ†æžå’Œäº¤äº’å¼ä»ªè¡¨æ¿ã€‚

### Phase 3è¦æ±‚ï¼ˆå®žé™…å®Œæˆæƒ…å†µï¼‰

**âœ… P0 - å·²å®Œæˆï¼ˆæ¼”ç¤ºæ ¸å¿ƒï¼‰**:

1. âœ… **ç™»å½•æ¨¡å—** (Login) - ç”¨æˆ·è®¤è¯å’Œä¼šè¯ç®¡ç†
2. âœ… **ç”¨æˆ·ç®¡ç†æ¨¡å—** (User Management) - Adminæ·»åŠ /ç¼–è¾‘ç”¨æˆ·ï¼ˆæ— æ³¨å†ŒåŠŸèƒ½ï¼‰
3. âœ… **ç¢³è¶³è¿¹è¿½è¸ªæ¨¡å—** (Carbon Footprint Tracking) - éžå¹³å‡¡ç”¨ä¾‹
   - âœ… æ”¯æŒä»ŽMockæ•°æ®è‡ªåŠ¨è®¡ç®—ï¼ˆåŸºäºŽç”µåŠ›æ•°æ®ï¼‰
   - âœ… æ”¯æŒç”¨æˆ·ä¸Šä¼ ç”µè´¹è´¦å•ä¸´æ—¶è®¡ç®—ï¼ˆä¸æŒä¹…åŒ–ï¼‰
   - âœ… ä¸‰ç§è§†å›¾ï¼šReal-time, Daily, Long-term
   - âœ… Chart.jsåŒçº¿æŠ˜çº¿å›¾å¯è§†åŒ–
   - âœ… Electricity Maps APIé›†æˆ

**ðŸ”„ P1 - å¾…å®žçŽ°**:
4. **ç”µåŠ›ä»ªè¡¨æ¿æ¨¡å—** (Electricity Dashboard) - åŸºç¡€æ•°æ®å±•ç¤º

**â¸ï¸ P2 - Skeletonå®žçŽ°ï¼ˆæ¡†æž¶æ­å»ºï¼ŒåŠŸèƒ½æœªæ¥å®žçŽ°ï¼‰**:

- å…¶ä»–Reportæ¨¡å—ï¼ˆWater, Thermalï¼‰
- Forecasté¢„æµ‹åŠŸèƒ½ï¼ˆéœ€è¦çœŸå®žç®—æ³•ï¼Œä½†prototypeé˜¶æ®µä¸å®žçŽ°ï¼‰
- Period ComparisonåŠŸèƒ½
- 3Då¯è§†åŒ–

**å…³é”®è¦æ±‚**:

- æ‰€æœ‰å®žçŽ°å¿…é¡»ä¸¥æ ¼éµå¾ªclass-diagram-optimized.pumlä¸­å®šä¹‰çš„ç±»ç»“æž„
- ç³»ç»Ÿä¸º**å†…éƒ¨ç³»ç»Ÿ**ï¼Œæ— æ³¨å†ŒåŠŸèƒ½ï¼Œç”¨æˆ·ç”±Adminç»Ÿä¸€ç®¡ç†
- ç¢³è¶³è¿¹æ”¯æŒä¸¤ç§è®¡ç®—æ¨¡å¼ï¼ˆMockæ•°æ® + ä¸´æ—¶ä¸Šä¼ ï¼‰

### å®žé™…å¼€å‘æƒ…å†µè¯´æ˜Ž

**âœ… å·²å®Œæˆçš„è°ƒæ•´**:

1. **æ•°æ®å­˜å‚¨**: ä½¿ç”¨Mockæ•°æ®ï¼ˆJSONæ–‡ä»¶ï¼‰ä»£æ›¿SQL Server

   - åŽŸå› ï¼šå®¢æˆ·æ•°æ®è¡¨ç»“æž„æœªæœ€ç»ˆç¡®å®š
   - æœªæ¥ï¼šWeek 1-2è¿ç§»åˆ°SQL Server
2. **è®¤è¯æ–¹å¼**: ä½¿ç”¨Session-basedè®¤è¯ä»£æ›¿JWT

   - åŽŸå› ï¼šPrototypeé˜¶æ®µç®€åŒ–å®žçŽ°
   - å½“å‰ï¼šsessionStorageå­˜å‚¨ç”¨æˆ·ä¿¡æ¯
   - æœªæ¥ï¼šå®žçŽ°JWT tokenè®¤è¯
3. **ç»„ä»¶åŒ–æž¶æž„**: é‡‡ç”¨Container/Presentationæ¨¡å¼

   - é¿å…God Modeï¼ˆå•ä¸ªç»„ä»¶åŒ…å«æ‰€æœ‰é€»è¾‘ï¼‰
   - æ¯ä¸ªç»„ä»¶å•ä¸€èŒè´£ï¼Œå¯å¤ç”¨
   - ç»„ä»¶ä¸è¶…è¿‡150è¡Œä»£ç 
4. **å¤–éƒ¨APIé›†æˆ**: Electricity Maps API

   - èŽ·å–å®žæ—¶ç¢³å¼ºåº¦æ•°æ®ï¼ˆAlberta, Calgaryï¼‰
   - ä½¿ç”¨çŽ¯å¢ƒå˜é‡ç®¡ç†APIå¯†é’¥

**ðŸ”„ æŠ€æœ¯æ ˆè°ƒæ•´**:

- æž„å»ºå·¥å…·ï¼šViteï¼ˆæ›´å¿«ã€æ›´çŽ°ä»£ï¼‰
- UIåº“ï¼šMaterial-UIï¼ˆä¸“ä¸šã€ç»„ä»¶ä¸°å¯Œï¼‰
- å›¾è¡¨åº“ï¼šChart.jsï¼ˆå…è´¹ã€æœ¬åœ°ç”Ÿæˆï¼‰
- çŠ¶æ€ç®¡ç†ï¼šContext APIï¼ˆè½»é‡çº§ï¼‰

---

## åŽŸåž‹èŒƒå›´

### 1. ç”¨æˆ·ç™»å½•ä¸Žç®¡ç†æ¨¡å— (Login & User Management) - âœ… P0å·²å®Œæˆ

**å®žçŽ°çŠ¶æ€**: âœ… 100%å®Œæˆ

**å·²å®žçŽ°åŠŸèƒ½**:

- âœ… ç”¨æˆ·ç™»å½•ç•Œé¢ï¼ˆemail/passwordï¼‰
- âœ… èº«ä»½éªŒè¯å’ŒSessionç®¡ç†ï¼ˆsessionStorageï¼‰
- âœ… æƒé™æ£€æŸ¥å’Œè·¯ç”±ä¿æŠ¤
- âœ… ç™»å½•åŽæ ¹æ®è§’è‰²è·³è½¬ï¼ˆAdmin â†’ User Management, TeamMember â†’ Dashboardï¼‰
- âœ… **Adminç”¨æˆ·ç®¡ç†åŠŸèƒ½**:
  - âœ… æ·»åŠ æ–°ç”¨æˆ·ï¼ˆcreateUserï¼‰
  - âœ… ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯ï¼ˆeditUserï¼‰
  - âœ… åˆ é™¤ç”¨æˆ·ï¼ˆdeleteUserï¼‰
  - âœ… åˆ†é…è§’è‰²å’Œæƒé™ï¼ˆassignRole, editUserPermissionsï¼‰
  - âœ… æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨ï¼ˆUserTableç»„ä»¶ï¼‰
  - âœ… å¤šé€‰æƒé™ï¼ˆElectricity, Water, Thermal, 3D Model, Carbon Footprintï¼‰
- âœ… **ç»„ä»¶åŒ–æž¶æž„**:
  - âœ… UserManagementPageï¼ˆå®¹å™¨ç»„ä»¶ï¼‰
  - âœ… UserTable, UserTableRowï¼ˆå±•ç¤ºç»„ä»¶ï¼‰
  - âœ… UserDialog, UserFormï¼ˆè¡¨å•ç»„ä»¶ï¼‰
  - âœ… AlertMessageï¼ˆé€šç”¨ç»„ä»¶ï¼‰

**å·²å®žçŽ°çš„ç±»** (ä¸¥æ ¼éµå¾ªclass-diagram-optimized.puml):

- âœ… `User` (æŠ½è±¡ç±») - `ecosphere-frontend/src/models/User.js`
- âœ… `Admin` (ç»§æ‰¿User) - `ecosphere-frontend/src/models/Admin.js`
- âœ… `TeamMember` (ç»§æ‰¿User) - `ecosphere-frontend/src/models/TeamMember.js`
- âœ… `AccessControl` - `ecosphere-frontend/src/models/AccessControl.js`

**åŽç«¯API** (RESTful):

- âœ… GET `/api/users` - èŽ·å–æ‰€æœ‰ç”¨æˆ·
- âœ… GET `/api/users/:id` - èŽ·å–å•ä¸ªç”¨æˆ·
- âœ… POST `/api/users` - åˆ›å»ºæ–°ç”¨æˆ·
- âœ… PUT `/api/users/:id` - æ›´æ–°ç”¨æˆ·
- âœ… DELETE `/api/users/:id` - åˆ é™¤ç”¨æˆ·
- âœ… POST `/api/auth/login` - ç”¨æˆ·ç™»å½•

**æµ‹è¯•è´¦å·**:

- Admin: `admin.admin@edu.sait.ca` / `abcd1234`
- TeamMember: é€šè¿‡Adminåˆ›å»º

**å®žçŽ°ä¼˜å…ˆçº§**: âœ… P0 - å·²å®Œæˆ

---

### 2. ç¢³è¶³è¿¹è¿½è¸ªæ¨¡å— (Carbon Footprint Tracking) - âœ… P0å·²å®Œæˆ

**å®žçŽ°çŠ¶æ€**: âœ… 100%å®Œæˆ

**å·²å®žçŽ°åŠŸèƒ½**:

- âœ… **æ¨¡å¼1: Mockæ•°æ®è‡ªåŠ¨è®¡ç®—**

  - âœ… ä»Želectricity.jsonè¯»å–ç”µåŠ›æ¶ˆè€—æ•°æ®ï¼ˆ3ä¸ªæœˆï¼Œhourlyï¼‰
  - âœ… é›†æˆElectricity Maps APIèŽ·å–å®žæ—¶ç¢³å¼ºåº¦
  - âœ… è‡ªåŠ¨è®¡ç®—ç¢³è¶³è¿¹ï¼ˆCO2 = ç”µåŠ›æ¶ˆè€— Ã— ç¢³å¼ºåº¦ï¼‰
  - âœ… ä¸‰ç§è§†å›¾ï¼šReal-time (ä»Šå¤©), Daily (ç”¨æˆ·é€‰æ‹©èŒƒå›´), Long-term (3ä¸ªæœˆ)
  - âœ… æ˜¾ç¤ºåŽ†å²ç¢³è¶³è¿¹è¶‹åŠ¿
- âœ… **æ¨¡å¼2: ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ ï¼ˆCustom Calculatorï¼‰**

  - âœ… ç”¨æˆ·ä¸Šä¼ ç”µè´¹è´¦å•æ•°æ®ï¼ˆå¹´ã€æœˆã€ç”¨ç”µé‡ï¼‰
  - âœ… å®žæ—¶è®¡ç®—ç¢³è¶³è¿¹
  - âœ… **æ•°æ®ä¸æŒä¹…åŒ–**ï¼ˆä»…å­˜å‚¨åœ¨React stateï¼‰
  - âœ… åŠ¨æ€æ·»åŠ /åˆ é™¤è´¦å•æ¡ç›®
  - âœ… æ•°æ®éªŒè¯ï¼ˆé˜²æ­¢é‡å¤å¹´æœˆã€é˜²æ­¢æœªæ¥æ—¥æœŸï¼‰
  - âœ… è‡ªåŠ¨æŽ’åºï¼ˆæŒ‰å¹´æœˆï¼‰
  - âœ… æ™ºèƒ½æ—¥æœŸé™åˆ¶ï¼ˆå¹´ä»½é™åˆ¶åˆ°å½“å‰å¹´ï¼Œæœˆä»½é™åˆ¶åˆ°å½“å‰æœˆï¼‰
- âœ… **æ•°æ®å¯è§†åŒ–**

  - âœ… Chart.jsåŒçº¿æŠ˜çº¿å›¾ï¼ˆCarbon Footprint + Electricity Consumptionï¼‰
  - âœ… åŒYè½´ï¼ˆå·¦ï¼škg CO2ï¼Œå³ï¼škWhï¼‰
  - âœ… SAITé…è‰²æ–¹æ¡ˆï¼ˆçº¢è‰²+è“è‰²ï¼‰
  - âœ… å“åº”å¼è®¾è®¡
- âœ… **æ—¥æœŸæ—¶é—´å¤„ç†**

  - âœ… ä½¿ç”¨ç”¨æˆ·æœ¬åœ°ç³»ç»Ÿæ—¶é—´ï¼ˆå¡å°”åŠ é‡Œæ—¶é—´ï¼‰
  - âœ… Daily Viewé»˜è®¤æ˜¾ç¤ºè¿‡åŽ»10å¤©åˆ°ä»Šå¤©
  - âœ… é˜²æ­¢é€‰æ‹©æœªæ¥æ—¥æœŸ

**å·²å®žçŽ°çš„ç±»/æœåŠ¡** (åŠŸèƒ½å®žçŽ°é€šè¿‡Serviceå±‚):

- âœ… `ElectricityMapsService` - ç¢³å¼ºåº¦APIå’Œè®¡ç®—
  - `getCurrentCarbonIntensity()` - èŽ·å–å®žæ—¶ç¢³å¼ºåº¦
  - `calculateCarbonFootprint()` - è®¡ç®—ç¢³è¶³è¿¹
  - `getCarbonIntensityInKg()` - å•ä½è½¬æ¢
- âœ… `ElectricityService` - ç”µåŠ›æ•°æ®ç®¡ç†
  - `getRealTimeData()` - èŽ·å–å®žæ—¶æ•°æ®
  - `getDailyData()` - èŽ·å–æ¯æ—¥æ•°æ®
  - `getLongTermData()` - èŽ·å–é•¿æœŸæ•°æ®
  - `getDataByRange()` - æŒ‰æ—¥æœŸèŒƒå›´èŽ·å–
  - `calculateTotalEnergy()` - è®¡ç®—æ€»èƒ½è€—
- âœ… `CarbonFootprintPage` - ä¸»é¡µé¢å®¹å™¨
- âœ… `CustomCalculator` - ç”¨æˆ·ä¸´æ—¶è®¡ç®—ç»„ä»¶ï¼ˆBillEntryåŠŸèƒ½ï¼‰

**åŽç«¯API**:

- âœ… GET `/api/electricity/realtime` - èŽ·å–å®žæ—¶æ•°æ®
- âœ… GET `/api/electricity/range?startDate=...&endDate=...` - èŽ·å–èŒƒå›´æ•°æ®
- âœ… GET `/api/electricity/longterm` - èŽ·å–é•¿æœŸæ•°æ®

**Mockæ•°æ®**:

- âœ… `mock-data/electricity.json` - 3ä¸ªæœˆç”µåŠ›æ•°æ®ï¼ˆhourlyï¼‰
- âœ… `mock-data/carbonFootprint.json` - ç¢³è¶³è¿¹åŽ†å²æ•°æ®

**å¤–éƒ¨APIé›†æˆ**:

- âœ… Electricity Maps API - å®žæ—¶ç¢³å¼ºåº¦ï¼ˆAlberta, Calgaryï¼‰
- âœ… çŽ¯å¢ƒå˜é‡ç®¡ç†ï¼ˆ.envæ–‡ä»¶ï¼‰

**å®žçŽ°ä¼˜å…ˆçº§**: âœ… P0 - å·²å®Œæˆï¼ˆéžå¹³å‡¡ç”¨ä¾‹ï¼‰

---

### 3. ç”µåŠ›ä»ªè¡¨æ¿æ¨¡å— (Electricity Dashboard) - ðŸ”„ P1å¾…å®žçŽ°

**å®žçŽ°çŠ¶æ€**: â³ å¾…å¼€å§‹

**è®¡åˆ’åŠŸèƒ½**:

- â³ å®žæ—¶æ˜¾ç¤ºç”µåŠ›æ¶ˆè€—å’Œå‘ç”µæ•°æ®
- â³ æ•°æ®å¯è§†åŒ–ï¼ˆå›¾è¡¨ã€ä»ªè¡¨ç›˜ï¼‰
- â³ åŽ†å²æ•°æ®æŸ¥è¯¢å’Œæ—¶é—´æ®µç­›é€‰
- â³ **æ ¸å¿ƒåŠŸèƒ½**: åœ¨ç”µåŠ›æŠ¥å‘Šä¸­é›†æˆæ˜¾ç¤ºç¢³è¶³è¿¹æ•°æ®
- â³ åŸºç¡€çš„è‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—

**æœªæ¥åŠŸèƒ½ï¼ˆåŽç»­ç‰ˆæœ¬å®žçŽ°ï¼‰**:

- ðŸ”® ç”Ÿæˆé¢„æµ‹æŠ¥å‘Šï¼ˆForecastï¼‰- éœ€è¦çœŸå®žé¢„æµ‹ç®—æ³•
- ðŸ”® æœŸé—´å¯¹æ¯”ï¼ˆYoY/PoPï¼‰
- ðŸ”® å¯¼å‡ºæŠ¥å‘ŠåŠŸèƒ½ï¼ˆPDFï¼‰

**å¾…å®žçŽ°çš„ç±»** (æ¥è‡ªclass-diagram-optimized.puml):

- â³ `ElectricityReport` ç±» (ç»§æ‰¿Report)
  - Attributes: id, reportType, electricityConsumption, electricityGeneration
  - Methods: calculateCarbonFootprint(), generateHotspotMap(), generateCarbonVsConsumptionChart()
  - ç»§æ‰¿Methods: exportReport(), filterReport()
- â³ `Report` ç±» (æŠ½è±¡ç±»)
  - Attributes: id, reportType
  - Methods: exportReport(), filterReport()
- â³ `Dashboard` ç±»
  - Attributes: id, dashboardType
  - Methods: generateView(), filterByPermissions()
- â³ `Visualizer` ç±»
  - Attributes: id, visualizeType
  - Methods: generateGraph(), calculateSelfSufficiency(), renderHotspotMap()

**æŠ€æœ¯æ ˆè°ƒæ•´**:

- ç»§ç»­ä½¿ç”¨Chart.jsè¿›è¡Œå¯è§†åŒ–
- ç»§ç»­ä½¿ç”¨Mockæ•°æ®ï¼ˆelectricity.jsonï¼‰
- é›†æˆå·²å®Œæˆçš„ç¢³è¶³è¿¹è®¡ç®—åŠŸèƒ½

**å®žçŽ°ä¼˜å…ˆçº§**: ðŸ”„ P1 - æ—¶é—´å…è®¸åˆ™å®žçŽ°

- `PeriodComparison` ç±»
  - Attributes: id
  - Methods: comparePoP(), compareYoY(), compareCustom()
- `Filter` ç±»
  - Attributes: id, location, area, timePeriod
  - Methods: applyFilter(), resetToDefault()
- `ReportCustomization` ç±»
  - Attributes: id, includeGraphs
  - Methods: preview(), download()

**Use Caseå‚è€ƒ**:

- UC-007 (View Dashboards) - Phase2_extracted.md Page 17-18
- UC-006 (Generate Forecast) - Phase2_extracted.md Page 15-16ï¼ˆæœªæ¥å®žçŽ°ï¼‰

**åºåˆ—å›¾å‚è€ƒ**: deliverables/seq-electricity-dashboard.puml

**æ´»åŠ¨å›¾å‚è€ƒ**: deliverables/activity-electricity-dashboard.puml

**å…³é”®é›†æˆç‚¹**:

- ElectricityReportå¿…é¡»è°ƒç”¨CarbonFootprint.calculateFootprint()
- æŠ¥å‘Šä¸­åŒæ—¶æ˜¾ç¤ºç”µåŠ›æ•°æ®å’Œç¢³è¶³è¿¹æ•°æ®

**å®žçŽ°ä¼˜å…ˆçº§**: ðŸŸ¡ P1 - æ—¶é—´å…è®¸åˆ™å®žçŽ°ï¼ˆåŸºç¡€ç‰ˆæœ¬ï¼‰

---

## æŠ€æœ¯æ ˆï¼ˆå®žé™…ä½¿ç”¨ï¼‰

### å‰ç«¯ âœ…

- **æ¡†æž¶**: Vite + React.js 18.x (JSX)
- **UIåº“**: Material-UI (MUI) 5.x
- **çŠ¶æ€ç®¡ç†**: Context API (AuthContext)
- **æ•°æ®å¯è§†åŒ–**: Chart.js 4.x + react-chartjs-2
- **è·¯ç”±**: React Router 6.x
- **HTTPå®¢æˆ·ç«¯**: Fetch API (åŽŸç”Ÿ)
- **å­—ä½“**: Titillium Web (æ ‡é¢˜) + DM Sans (æ­£æ–‡)
- **é…è‰²**: SAITå®˜æ–¹é…è‰²ï¼ˆ#DA291C, #005EB8ç­‰ï¼‰

### åŽç«¯ âœ…

- **è¿è¡Œæ—¶**: Node.js 18.x+
- **æ¡†æž¶**: Express.js 4.x
- **APIè®¾è®¡**: RESTful API
- **è®¤è¯**: Session-based (sessionStorage)
- **æž¶æž„**: Routes â†’ Controllers â†’ Services â†’ Utils

### æ•°æ®åº“ï¼ˆPrototypeé˜¶æ®µï¼‰âš ï¸

- **å½“å‰æ–¹æ¡ˆ**: Mockæ•°æ®ï¼ˆJSONæ–‡ä»¶ï¼‰
  - `mock-data/users.json` - ç”¨æˆ·æ•°æ®
  - `mock-data/electricity.json` - ç”µåŠ›æ•°æ®ï¼ˆ3ä¸ªæœˆï¼Œhourlyï¼‰
  - `mock-data/carbonFootprint.json` - ç¢³è¶³è¿¹åŽ†å²æ•°æ®
- **æœªæ¥æ–¹æ¡ˆ**: Microsoft SQL Server (Week 1-2è¿ç§»)
- **åŽŸå› **: å®¢æˆ·æ•°æ®è¡¨ç»“æž„æœªæœ€ç»ˆç¡®å®šï¼ŒPrototypeé˜¶æ®µå¿«é€Ÿå¼€å‘

### å¤–éƒ¨API âœ…

- **Electricity Maps API**: å®žæ—¶ç¢³å¼ºåº¦æ•°æ®ï¼ˆAlberta, Calgaryï¼‰
- **çŽ¯å¢ƒå˜é‡**: `.env` æ–‡ä»¶ç®¡ç†APIå¯†é’¥

### å¼€å‘å·¥å…· âœ…

- **ç‰ˆæœ¬æŽ§åˆ¶**: Git / GitHub
- **ä»£ç ç¼–è¾‘å™¨**: VS Code / Kiro IDE
- **APIæµ‹è¯•**: æµè§ˆå™¨DevTools
- **UMLå·¥å…·**: PlantUML
- **UIè®¾è®¡**: Figma

---

## ç±»å›¾ä¸¥æ ¼éµå¾ªåŽŸåˆ™

### âš ï¸ é‡è¦è¯´æ˜Ž

**åŽŸåž‹å®žçŽ°å¿…é¡»100%ä¸¥æ ¼æŒ‰ç…§ `instructions/ref/class-diagram-optimized.puml` ä¸­å®šä¹‰çš„ç±»ç»“æž„æ¥å®žçŽ°ã€‚**

è™½ç„¶å®žé™…å¼€å‘ä¸­å¯èƒ½ä¼šæœ‰è°ƒæ•´ï¼Œä½†ç±»å›¾æ˜¯å®žçŽ°çš„å¤§çº²å’ŒåŸºç¡€ã€‚æ‰€æœ‰ç±»çš„attributeså’Œmethodså¿…é¡»ä¸Žç±»å›¾ä¿æŒä¸€è‡´ã€‚

### å®žçŽ°è§„åˆ™

1. **Attributeså®Œæ•´æ€§**: æ‰€æœ‰ç±»å¿…é¡»åŒ…å«ç±»å›¾ä¸­å®šä¹‰çš„æ‰€æœ‰attributes
2. **Methodsç­¾åä¸€è‡´**: æ‰€æœ‰æ–¹æ³•å¿…é¡»æŒ‰ç…§ç±»å›¾ä¸­çš„ç­¾åå®žçŽ°ï¼ˆå‚æ•°å’Œè¿”å›žç±»åž‹ï¼‰
3. **å…³ç³»å®žçŽ°**: ç±»ä¹‹é—´çš„å…³ç³»å¿…é¡»åœ¨ä»£ç ä¸­ä½“çŽ°ï¼ˆç»§æ‰¿ã€ç»„åˆã€èšåˆã€ä¾èµ–ï¼‰
4. **å‘½åä¸€è‡´æ€§**: æ–¹æ³•å’Œå±žæ€§å‘½åå¿…é¡»ä¸Žç±»å›¾ä¿æŒä¸€è‡´
5. **åŒ…ç»“æž„**: éµå¾ªç±»å›¾ä¸­çš„packageç»„ç»‡ç»“æž„

### ç±»å›¾å…³é”®å…³ç³»

```
User (æŠ½è±¡)
  â”œâ”€â”€ Admin (ç»§æ‰¿)
  â””â”€â”€ TeamMember (ç»§æ‰¿)

Report (æŠ½è±¡)
  â”œâ”€â”€ WaterReport (ç»§æ‰¿)
  â”œâ”€â”€ ElectricityReport (ç»§æ‰¿)
  â””â”€â”€ ThermalReport (ç»§æ‰¿)

CarbonFootprint "1" o-- "*" BillEntry (ç»„åˆ)
CarbonFootprint "1" --> "1" ElectricityReport (ä¾èµ–)

UI "1" *-- "1" CarbonFootprint (ç»„åˆ)
UI "1" *-- "*" Dashboard (ç»„åˆ)
UI "1" o-- "*" Report (èšåˆ)

Dashboard --> Visualizer (ä½¿ç”¨)
Dashboard --> Report (èšåˆ)
Dashboard ..> AccessControl (ä¾èµ–)

Visualizer --> Report (å¯è§†åŒ–)
Forecast --> Report (ç”Ÿæˆ)
Report --> PeriodComparison (æ¯”è¾ƒ)
```

---

## æ ¸å¿ƒç±»å®šä¹‰

ä»¥ä¸‹ç±»å®šä¹‰ç›´æŽ¥æ¥è‡ª `class-diagram-optimized.puml`ï¼Œå¿…é¡»ä¸¥æ ¼éµå¾ªï¼š

### 1. Userç±»ï¼ˆæŠ½è±¡ç±»ï¼‰

**Package**: User Management

**Attributes**:

```
- id: int
- firstName: String
- lastName: String
- email: String
- password: String
- role: String
```

**Methods**:

```
+ createUser(id, ...): void
+ login(email, password): void
+ logout(): void
```

**å­ç±»**:

- `Admin` - ç®¡ç†å‘˜ï¼Œé¢å¤–æ–¹æ³•ï¼šaddUser(), editUserPermissions(), assignRole(), createQuiz(), editQuiz(), deleteQuiz()
- `TeamMember` - å›¢é˜Ÿæˆå‘˜ï¼Œé¢å¤–å±žæ€§ï¼špromptChat (int), permissions (List)ï¼Œé¢å¤–æ–¹æ³•ï¼šgetPermissions()

---

### 2. CarbonFootprintç±»

**Package**: Carbon Analysis

**Attributes**:

```
- id: int
- co2Emission: double
- billEntries: List
```

**Methods**:

```
+ calculateFootprint(...): double
+ addBillEntry(...): void
+ overrideWithDIY(): DataSet
```

**å…³ç³»**:

- ç»„åˆ: `CarbonFootprint "1" o-- "*" BillEntry : stores`
- ä¾èµ–: `CarbonFootprint "1" --> "1" ElectricityReport : calculates`
- ç»„åˆ: `UI "1" *-- "1" CarbonFootprint : owns`

---

### 3. BillEntryç±»

**Package**: Carbon Analysis

**Attributes**:

```
- id: int
- year: int
- month: String
- electricityUsage: double
```

**å…³ç³»**: è¢«CarbonFootprintåŒ…å«

---

### 4. Reportç±»ï¼ˆæŠ½è±¡ç±»ï¼‰

**Package**: Reporting System

**Attributes**:

```
- id: int
- reportType: String
```

**Methods**:

```
+ exportReport(): void
+ filterReport(...): void
```

**å­ç±»**: WaterReport, ElectricityReport, ThermalReport

**å…³ç³»**:

- ä¾èµ–: `Report ..> Database : queries`
- ä¾èµ–: `Report ..> AccessControl : checks permission`
- å…³è”: `Forecast --> Report : generates`
- å…³è”: `Report --> PeriodComparison : compares`

---

### 5. ElectricityReportç±»

**Package**: Reporting System

**ç»§æ‰¿**: Report (æŠ½è±¡ç±»)

**Attributes** (ç»§æ‰¿è‡ªReport):

```
- id: int
- reportType: String
```

**ç‰¹æœ‰Attributes**:

```
- electricityConsumption: double
- electricityGeneration: double
```

**Methods**:

```
+ calculateCarbonFootprint(...): double
+ generateHotspotMap(...): Map
+ generateCarbonVsConsumptionChart(): Chart
```

**ç»§æ‰¿çš„Methods**:

```
+ exportReport(): void
+ filterReport(...): void
```

**å…³ç³»**:

- ç»§æ‰¿: `ElectricityReport --|> Report : is-a`
- è¢«è®¡ç®—: `CarbonFootprint "1" --> "1" ElectricityReport : calculates`

---

### 6. Dashboardç±»

**Package**: User Interface

**Attributes**:

```
- id: int
- dashboardType: String
```

**Methods**:

```
+ generateView(user, type): DashboardView
+ filterByPermissions(user): List
```

**å…³ç³»**:

- ç»„åˆ: `UI "1" *-- "*" Dashboard : displays`
- ä½¿ç”¨: `Dashboard --> Visualizer : uses`
- èšåˆ: `Dashboard --> Report : aggregates`
- ä¾èµ–: `Dashboard ..> AccessControl : checks permission`

---

### 7. Visualizerç±»

**Package**: Visualization

**Attributes**:

```
- id: int
- visualizeType: String
```

**Methods**:

```
+ generateGraph(...): void
+ calculateSelfSufficiency(...): double
+ renderHotspotMap(...): Map
+ renderHeatMap(...): Map
+ renderWeatherWidget(...): Widget
```

**å…³ç³»**:

- å¯è§†åŒ–: `Visualizer --> Report : visualizes`
- è¢«ä½¿ç”¨: `Dashboard --> Visualizer : uses`

---

### 8. Forecastç±»

**Package**: Reporting System

**Attributes**:

```
- id: int
```

**Methods**:

```
+ generateForecast(...): DataSet
```

**å…³ç³»**:

- ç”Ÿæˆ: `Forecast --> Report : generates`

---

### 9. PeriodComparisonç±»

**Package**: Analytics

**Attributes**:

```
- id: int
```

**Methods**:

```
+ comparePoP(currentPeriod): double
+ compareYoY(currentPeriod): double
+ compareCustom(period1, period2): double
```

**å…³ç³»**:

- æ¯”è¾ƒ: `Report --> PeriodComparison : compares`

---

### 10. UIç±»

**Package**: User Interface

**Attributes**:

```
- currentView: String
```

**Methods**:

```
+ renderView(...): void
+ updateUI(...): void
+ displayWarning(...): void
```

**å…³ç³»**:

- ç»„åˆ: `UI "1" *-- "*" Dashboard : displays`
- ç»„åˆ: `UI "1" *-- "1" Filter : owns`
- ç»„åˆ: `UI "1" *-- "1" ReportCustomization : owns`
- ç»„åˆ: `UI "1" *-- "1" CarbonFootprint : owns`
- èšåˆ: `UI "1" o-- "*" Report : displays`
- ä¾èµ–: `UI ..> AccessControl : checks permission`
- è¢«ä½¿ç”¨: `User --> UI : uses`

---

### 11. Filterç±»

**Package**: User Interface

**Attributes**:

```
- id: int
- location: String
- area: String
- timePeriod: String
```

**Methods**:

```
+ applyFilter(): DataSet
+ resetToDefault(): void
```

---

### 12. ReportCustomizationç±»

**Package**: User Interface

**Attributes**:

```
- id: int
- includeGraphs: List
```

**Methods**:

```
+ preview(): ReportPreview
+ download(...): void
```

---

### 13. AccessControlç±»

**Package**: Security

**Methods**:

```
+ checkPermission(user, module): boolean
+ updateUserPermissions(userId, permissions): void
```

**å…³ç³»**:

- è¢«ä½¿ç”¨: `Admin ..> AccessControl : uses`
- è¢«ä¾èµ–: `UI ..> AccessControl : checks permission`
- è¢«ä¾èµ–: `Dashboard ..> AccessControl : checks permission`
- è¢«ä¾èµ–: `Report ..> AccessControl : checks permission`

---

### 14. DatabaseæŽ¥å£

**Package**: Data Layer

**Methods**:

```
+ executeQuery(...): DataSet
+ fetchSensorData(): DataSet
```

**å…³ç³»**:

- è¢«æŸ¥è¯¢: `Report ..> Database : queries`

---

## æ•°æ®åº“è®¾è®¡

### åŸºäºŽERDå›¾å’Œç±»å›¾çš„è¡¨ç»“æž„

å‚è€ƒæ–‡æ¡£: `instructions/ref/erd-diagram.puml`

### 1. USERSè¡¨

```sql
CREATE TABLE USERS (
    id INT PRIMARY KEY IDENTITY(1,1),
    firstName NVARCHAR(100) NOT NULL,
    lastName NVARCHAR(100) NOT NULL,
    email NVARCHAR(255) NOT NULL UNIQUE,
    password NVARCHAR(255) NOT NULL,
    role NVARCHAR(50) NOT NULL CHECK (role IN ('Admin', 'TeamMember')),
    promptChat INT NULL,  -- ä»…TeamMemberä½¿ç”¨
    permissions NVARCHAR(MAX) NULL,  -- JSONæ ¼å¼ï¼Œä»…TeamMemberä½¿ç”¨
    created_at DATETIME DEFAULT GETDATE(),
    updated_at DATETIME DEFAULT GETDATE()
);
```

### 2. REPORTSè¡¨ï¼ˆåŸºç¡€è¡¨ï¼‰

```sql
CREATE TABLE REPORTS (
    id INT PRIMARY KEY IDENTITY(1,1),
    user_id INT NOT NULL FOREIGN KEY REFERENCES USERS(id),
    report_type NVARCHAR(50) NOT NULL CHECK (report_type IN ('Water', 'Electricity', 'Thermal')),
    created_at DATETIME DEFAULT GETDATE(),
    updated_at DATETIME DEFAULT GETDATE()
);
```

### 3. ELECTRICITY_REPORTSè¡¨

```sql
CREATE TABLE ELECTRICITY_REPORTS (
    id INT PRIMARY KEY FOREIGN KEY REFERENCES REPORTS(id),
    electricityConsumption DECIMAL(10,2) NOT NULL,
    electricityGeneration DECIMAL(10,2) NOT NULL,
    carbonFootprint DECIMAL(10,2) NULL,  -- å…³è”ç¢³è¶³è¿¹è®¡ç®—ç»“æžœ
    selfSufficiency DECIMAL(5,2) NULL
);
```

### 4. CARBON_FOOTPRINTè¡¨ï¼ˆç‹¬ç«‹è¡¨è®¾è®¡ï¼‰

```sql
CREATE TABLE CARBON_FOOTPRINT (
    id INT PRIMARY KEY IDENTITY(1,1),
    user_id INT NOT NULL FOREIGN KEY REFERENCES USERS(id),
    report_id INT NULL FOREIGN KEY REFERENCES ELECTRICITY_REPORTS(id),  -- å¯é€‰ï¼Œç”¨äºŽå…³è”ç”µåŠ›æŠ¥å‘Š
    co2Emission DECIMAL(10,2) NOT NULL,
    calculation_source NVARCHAR(50) NOT NULL CHECK (calculation_source IN ('database', 'user_upload')),  -- è®¡ç®—æ¥æº
    created_at DATETIME DEFAULT GETDATE(),
    updated_at DATETIME DEFAULT GETDATE()
);
```

**è®¾è®¡è¯´æ˜Ž**:

- `user_id`: å…³è”ç”¨æˆ·
- `report_id`: å¯é€‰ï¼Œç”¨äºŽå…³è”ç”µåŠ›æŠ¥å‘Šï¼ˆæ¨¡å¼1ï¼šæ•°æ®åº“è‡ªåŠ¨è®¡ç®—ï¼‰
- `calculation_source`: æ ‡è¯†æ•°æ®æ¥æº
  - 'database': ä»Žæ•°æ®åº“ç”µåŠ›æ•°æ®è‡ªåŠ¨è®¡ç®—
  - 'user_upload': ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ ï¼ˆå®žé™…ä¸ä¼šå­˜å‚¨åˆ°æ•°æ®åº“ï¼Œæ­¤å­—æ®µç”¨äºŽæœªæ¥æ‰©å±•ï¼‰
- ç‹¬ç«‹è¡¨è®¾è®¡ç¬¦åˆæ•°æ®åº“è§„èŒƒåŒ–åŽŸåˆ™

### 5. BILL_ENTRYè¡¨

```sql
CREATE TABLE BILL_ENTRY (
    id INT PRIMARY KEY IDENTITY(1,1),
    carbonFootprintId INT NOT NULL FOREIGN KEY REFERENCES CARBON_FOOTPRINT(id),
    year INT NOT NULL,
    month NVARCHAR(20) NOT NULL,
    electricityUsage DECIMAL(10,2) NOT NULL,
    created_at DATETIME DEFAULT GETDATE()
);
```

**è®¾è®¡è¯´æ˜Ž**:

- å­˜å‚¨ç”¨æˆ·çš„ç”µè´¹è´¦å•æ¡ç›®
- ç”¨äºŽç¢³è¶³è¿¹è®¡ç®—çš„åŸºç¡€æ•°æ®
- æ”¯æŒåŽ†å²æ•°æ®è¿½è¸ª

### 6. HISTORY_LOGSè¡¨

```sql
CREATE TABLE HISTORY_LOGS (
    id INT PRIMARY KEY IDENTITY(1,1),
    user_id INT NOT NULL FOREIGN KEY REFERENCES USERS(id),
    log_type NVARCHAR(50) NOT NULL CHECK (log_type IN ('report', 'ai_query')),
    timestamp DATETIME DEFAULT GETDATE(),
    details NVARCHAR(MAX) NULL
);
```

### 7. REPORT_HISTORYè¡¨

```sql
CREATE TABLE REPORT_HISTORY (
    id INT PRIMARY KEY FOREIGN KEY REFERENCES HISTORY_LOGS(id),
    report_id INT NOT NULL FOREIGN KEY REFERENCES REPORTS(id),
    filter_location NVARCHAR(100) NULL,
    filter_area NVARCHAR(100) NULL,
    filter_time_period NVARCHAR(100) NULL
);
```

### æµ‹è¯•æ•°æ®è„šæœ¬

```sql
-- æ’å…¥æµ‹è¯•ç”¨æˆ·
INSERT INTO USERS (firstName, lastName, email, password, role) VALUES
('Admin', 'User', 'admin@sait.ca', '$2b$10$hashedpassword', 'Admin'),
('John', 'Doe', 'john.doe@sait.ca', '$2b$10$hashedpassword', 'TeamMember');

-- æ’å…¥æµ‹è¯•ç¢³è¶³è¿¹æ•°æ®
INSERT INTO CARBON_FOOTPRINT (user_id, co2Emission) VALUES (2, 1250.50);

-- æ’å…¥æµ‹è¯•è´¦å•æ¡ç›®
INSERT INTO BILL_ENTRY (carbonFootprintId, year, month, electricityUsage) VALUES
(1, 2024, 'January', 500.0),
(1, 2024, 'February', 450.0),
(1, 2024, 'March', 480.0);

-- æ’å…¥æµ‹è¯•æŠ¥å‘Š
INSERT INTO REPORTS (user_id, report_type) VALUES (2, 'Electricity');

-- æ’å…¥æµ‹è¯•ç”µåŠ›æŠ¥å‘Š
INSERT INTO ELECTRICITY_REPORTS (id, electricityConsumption, electricityGeneration, carbonFootprint) 
VALUES (1, 2500.0, 1800.0, 1250.50);
```

---

## åŽç«¯å®žçŽ°

### é¡¹ç›®ç»“æž„

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ models/           # ç±»å›¾å¯¹åº”çš„æ¨¡åž‹ç±»
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Admin.js
â”‚   â”‚   â”œâ”€â”€ TeamMember.js
â”‚   â”‚   â”œâ”€â”€ CarbonFootprint.js
â”‚   â”‚   â”œâ”€â”€ BillEntry.js
â”‚   â”‚   â”œâ”€â”€ Report.js
â”‚   â”‚   â”œâ”€â”€ ElectricityReport.js
â”‚   â”‚   â”œâ”€â”€ Dashboard.js
â”‚   â”‚   â”œâ”€â”€ Visualizer.js
â”‚   â”‚   â”œâ”€â”€ Forecast.js
â”‚   â”‚   â”œâ”€â”€ PeriodComparison.js
â”‚   â”‚   â”œâ”€â”€ Filter.js
â”‚   â”‚   â”œâ”€â”€ ReportCustomization.js
â”‚   â”‚   â””â”€â”€ AccessControl.js
â”‚   â”œâ”€â”€ controllers/      # æŽ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”œâ”€â”€ carbonFootprintController.js
â”‚   â”‚   â”œâ”€â”€ electricityReportController.js
â”‚   â”‚   â””â”€â”€ dashboardController.js
â”‚   â”œâ”€â”€ routes/           # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ carbonFootprint.js
â”‚   â”‚   â”œâ”€â”€ electricityReport.js
â”‚   â”‚   â””â”€â”€ dashboard.js
â”‚   â”œâ”€â”€ middleware/       # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â””â”€â”€ errorHandler.js
â”‚   â”œâ”€â”€ config/           # é…ç½®
â”‚   â”‚   â””â”€â”€ database.js
â”‚   â””â”€â”€ app.js            # ä¸»åº”ç”¨
â”œâ”€â”€ package.json
â””â”€â”€ .env
```

### æ ¸å¿ƒç±»å®žçŽ°ç¤ºä¾‹

#### Userç±»ï¼ˆæŠ½è±¡ç±»ï¼‰

```javascript
// models/User.js
class User {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.firstName = '';
    this.lastName = '';
    this.email = '';
    this.password = '';
    this.role = '';
  }

  // Methods from class diagram
  async createUser(id, firstName, lastName, email, password, role) {
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.email = email;
    this.password = password;
    this.role = role;
    // Database operation
  }

  async login(email, password) {
    // Validation logic
    // Return user object
  }

  async logout() {
    // Logout logic
  }
}

module.exports = User;
```

#### CarbonFootprintç±»ï¼ˆæ”¯æŒä¸¤ç§æ¨¡å¼ï¼‰

```javascript
// models/CarbonFootprint.js
class CarbonFootprint {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.co2Emission = 0.0;
    this.billEntries = [];  // List of BillEntry objects
    this.calculationSource = 'database';  // 'database' or 'user_upload'
  }

  // Methods from class diagram
  async calculateFootprint(electricityUsage, emissionFactor) {
    // Calculate: CO2 = electricity Ã— emission factor
    // æ ‡å‡†ç¢³æŽ’æ”¾å› å­: 0.5 kg CO2/kWh
    this.co2Emission = electricityUsage * emissionFactor;
    return this.co2Emission;  // Returns double
  }

  async addBillEntry(year, month, electricityUsage, persist = true) {
    const billEntry = new BillEntry();
    billEntry.year = year;
    billEntry.month = month;
    billEntry.electricityUsage = electricityUsage;
    this.billEntries.push(billEntry);
  
    // æ ¹æ®persistå‚æ•°å†³å®šæ˜¯å¦ä¿å­˜åˆ°æ•°æ®åº“
    if (persist) {
      // æ¨¡å¼1: ä¿å­˜åˆ°æ•°æ®åº“
      await this.saveBillEntryToDatabase(billEntry);
    }
    // æ¨¡å¼2: ä»…ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸æŒä¹…åŒ–
  }

  async overrideWithDIY() {
    // DIY data override logic - ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ æ¨¡å¼
    // è®¾ç½®ä¸ºä¸´æ—¶æ•°æ®ï¼Œä¸æŒä¹…åŒ–
    this.calculationSource = 'user_upload';
    return {};  // Returns DataSet
  }

  async calculateFromDatabase(userId) {
    // æ¨¡å¼1: ä»Žæ•°æ®åº“è¯»å–ç”µåŠ›æ•°æ®å¹¶è®¡ç®—
    // 1. æŸ¥è¯¢ç”¨æˆ·çš„ç”µåŠ›æŠ¥å‘Š
    // 2. èŽ·å–æ€»ç”¨ç”µé‡
    // 3. è®¡ç®—ç¢³è¶³è¿¹
    // 4. ä¿å­˜åˆ°æ•°æ®åº“
    this.calculationSource = 'database';
  }

  async calculateFromUserUpload(billEntries) {
    // æ¨¡å¼2: åŸºäºŽç”¨æˆ·ä¸Šä¼ çš„ä¸´æ—¶æ•°æ®è®¡ç®—
    // 1. æŽ¥æ”¶ç”¨æˆ·ä¸Šä¼ çš„è´¦å•æ•°æ®
    // 2. è®¡ç®—æ€»ç”¨ç”µé‡
    // 3. è®¡ç®—ç¢³è¶³è¿¹
    // 4. ä¸ä¿å­˜åˆ°æ•°æ®åº“
    this.calculationSource = 'user_upload';
    this.billEntries = billEntries;
  
    const totalUsage = billEntries.reduce((sum, entry) => 
      sum + entry.electricityUsage, 0
    );
  
    return await this.calculateFootprint(totalUsage, 0.5);
  }
}

module.exports = CarbonFootprint;
```

#### BillEntryç±»

```javascript
// models/BillEntry.js
class BillEntry {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.year = 0;
    this.month = '';
    this.electricityUsage = 0.0;
  }
}

module.exports = BillEntry;
```

#### ElectricityReportç±»

```javascript
// models/ElectricityReport.js
const Report = require('./Report');

class ElectricityReport extends Report {
  constructor() {
    super();
    // Inherited attributes
    this.reportType = 'Electricity';
  
    // Specific attributes from class diagram
    this.electricityConsumption = 0.0;
    this.electricityGeneration = 0.0;
  }

  // Methods from class diagram
  async calculateCarbonFootprint(emissionFactor) {
    // å…³é”®: è°ƒç”¨CarbonFootprintç±»è®¡ç®—
    const carbonFootprint = this.electricityConsumption * emissionFactor;
    return carbonFootprint;  // Returns double
  }

  async generateHotspotMap(data) {
    // Generate hotspot map logic
    return {};  // Returns Map
  }

  async generateCarbonVsConsumptionChart() {
    // Generate chart data
    return {
      labels: [],
      carbonData: [],
      consumptionData: []
    };  // Returns Chart
  }

  // Inherited methods from Report
  // exportReport() and filterReport() are inherited
}

module.exports = ElectricityReport;
```

#### ReportåŸºç±»

```javascript
// models/Report.js
class Report {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.reportType = '';
  }

  // Methods from class diagram
  async exportReport() {
    // Export report logic
  }

  async filterReport(filters) {
    // Filter report logic
  }
}

module.exports = Report;
```

#### Dashboardç±»

```javascript
// models/Dashboard.js
const AccessControl = require('./AccessControl');

class Dashboard {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.dashboardType = '';
  }

  // Methods from class diagram
  async generateView(user, type) {
    // Check permission (Dashboard ..> AccessControl)
    const hasPermission = await AccessControl.checkPermission(user, 'dashboard');
    if (!hasPermission) {
      throw new Error('Permission denied');
    }

    // Generate view
    return {
      dashboardType: type,
      data: {}
    };  // Returns DashboardView
  }

  async filterByPermissions(user) {
    // Filter data based on user permissions
    return [];  // Returns List
  }
}

module.exports = Dashboard;
```

#### Visualizerç±»

```javascript
// models/Visualizer.js
class Visualizer {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.visualizeType = '';
  }

  // Methods from class diagram
  generateGraph(data, graphType) {
    // Generate graph logic
    // Returns void
  }

  calculateSelfSufficiency(generation, consumption) {
    return (generation / consumption) * 100;  // Returns double
  }

  renderHotspotMap(data) {
    // Render hotspot map
    return {};  // Returns Map
  }

  renderHeatMap(data) {
    // Render heat map
    return {};  // Returns Map
  }

  renderWeatherWidget(weatherData) {
    // Render weather widget
    return {};  // Returns Widget
  }
}

module.exports = Visualizer;
```

#### Forecastç±»

```javascript
// models/Forecast.js
class Forecast {
  constructor() {
    // Attributes from class diagram
    this.id = null;
  }

  // Methods from class diagram
  async generateForecast(historicalData, duration) {
    // Analyze patterns and predict future
    // Use linear regression or time series analysis
    return {};  // Returns DataSet
  }
}

module.exports = Forecast;
```

#### PeriodComparisonç±»

```javascript
// models/PeriodComparison.js
class PeriodComparison {
  constructor() {
    // Attributes from class diagram
    this.id = null;
  }

  // Methods from class diagram
  async comparePoP(currentPeriod) {
    // Period-over-Period comparison
    return 0.0;  // Returns double (percentage change)
  }

  async compareYoY(currentPeriod) {
    // Year-over-Year comparison
    return 0.0;  // Returns double (percentage change)
  }

  async compareCustom(period1, period2) {
    // Custom period comparison
    return 0.0;  // Returns double (percentage change)
  }
}

module.exports = PeriodComparison;
```

#### AccessControlç±»

```javascript
// models/AccessControl.js
class AccessControl {
  // Static methods from class diagram
  static async checkPermission(user, module) {
    // Check user permission based on role
    if (user.role === 'Admin') {
      return true;
    }
  
    if (user.role === 'TeamMember') {
      // Check permissions list
      return user.permissions && user.permissions.includes(module);
    }
  
    return false;  // Returns boolean
  }

  static async updateUserPermissions(userId, permissions) {
    // Update user permissions in database
    // Returns void
  }
}

module.exports = AccessControl;
```

#### DatabaseæŽ¥å£

```javascript
// interfaces/Database.js
const sql = require('mssql');

class Database {
  async executeQuery(query, params) {
    // Execute SQL query
    const result = await sql.query(query);
    return result.recordset;  // Returns DataSet
  }

  async fetchSensorData() {
    // Fetch latest sensor data
    const query = 'SELECT TOP 100 * FROM sensor_data ORDER BY ts DESC';
    return await this.executeQuery(query);  // Returns DataSet
  }
}

module.exports = Database;
```

### APIç«¯ç‚¹è®¾è®¡ï¼ˆä¸¥æ ¼å¯¹åº”ç±»å›¾æ–¹æ³•ï¼‰

#### 1. Userè®¤è¯API

```javascript
// routes/auth.js
POST /api/user/create      // User.createUser()
POST /api/user/login       // User.login()
POST /api/user/logout      // User.logout()
```

#### 2. CarbonFootprint API

```javascript
// routes/carbonFootprint.js
GET  /api/carbon-footprint/:id              // èŽ·å–ç¢³è¶³è¿¹æ•°æ®
POST /api/carbon-footprint/calculate        // CarbonFootprint.calculateFootprint()
POST /api/carbon-footprint/bill-entry       // CarbonFootprint.addBillEntry()
PUT  /api/carbon-footprint/override         // CarbonFootprint.overrideWithDIY()
```

#### 3. ElectricityReport API

```javascript
// routes/electricityReport.js
GET  /api/electricity/report/:id                    // èŽ·å–ç”µåŠ›æŠ¥å‘Š
POST /api/electricity/report/create                 // åˆ›å»ºç”µåŠ›æŠ¥å‘Š
POST /api/electricity/report/calculate-carbon       // ElectricityReport.calculateCarbonFootprint()
GET  /api/electricity/report/hotspot-map/:id        // ElectricityReport.generateHotspotMap()
GET  /api/electricity/report/carbon-chart/:id       // ElectricityReport.generateCarbonVsConsumptionChart()
POST /api/electricity/report/export/:id             // Report.exportReport()
POST /api/electricity/report/filter                 // Report.filterReport()
```

#### 4. Dashboard API

```javascript
// routes/dashboard.js
GET /api/dashboard/view                    // Dashboard.generateView()
GET /api/dashboard/filter-permissions      // Dashboard.filterByPermissions()
```

#### 5. Visualizer API

```javascript
// routes/visualizer.js
POST /api/visualizer/graph                 // Visualizer.generateGraph()
GET  /api/visualizer/self-sufficiency      // Visualizer.calculateSelfSufficiency()
GET  /api/visualizer/hotspot-map           // Visualizer.renderHotspotMap()
```

#### 6. Forecast API

```javascript
// routes/forecast.js
POST /api/forecast/generate                // Forecast.generateForecast()
```

#### 7. PeriodComparison API

```javascript
// routes/comparison.js
GET /api/comparison/pop                    // PeriodComparison.comparePoP()
GET /api/comparison/yoy                    // PeriodComparison.compareYoY()
POST /api/comparison/custom                // PeriodComparison.compareCustom()
```

---

## å‰ç«¯å®žçŽ°

### é¡¹ç›®ç»“æž„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/       # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login/
â”‚   â”‚   â”‚   â””â”€â”€ LoginPage.jsx
â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardLayout.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ElectricityDashboard.jsx
â”‚   â”‚   â”œâ”€â”€ CarbonFootprint/
â”‚   â”‚   â”‚   â””â”€â”€ CarbonFootprintPage.jsx
â”‚   â”‚   â””â”€â”€ Common/
â”‚   â”‚       â”œâ”€â”€ Header.jsx
â”‚   â”‚       â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚       â””â”€â”€ Chart.jsx
â”‚   â”œâ”€â”€ services/         # APIæœåŠ¡ï¼ˆå¯¹åº”ç±»å›¾çš„ç±»ï¼‰
â”‚   â”‚   â”œâ”€â”€ UserService.js
â”‚   â”‚   â”œâ”€â”€ CarbonFootprintService.js
â”‚   â”‚   â”œâ”€â”€ ElectricityReportService.js
â”‚   â”‚   â”œâ”€â”€ DashboardService.js
â”‚   â”‚   â””â”€â”€ VisualizerService.js
â”‚   â”œâ”€â”€ store/            # ReduxçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ userSlice.js
â”‚   â”‚   â”œâ”€â”€ dashboardSlice.js
â”‚   â”‚   â””â”€â”€ store.js
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”œâ”€â”€ App.js
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ package.json
â””â”€â”€ .env
```

### UIç±»å®žçŽ°ï¼ˆä½¿ç”¨Context APIï¼‰

æ ¹æ®ç±»å›¾ï¼ŒUIç±»éœ€è¦å®žçŽ°ä»¥ä¸‹ç»“æž„ï¼š

```
UIç±»:
- currentView: String
+ renderView(...): void
+ updateUI(...): void
+ displayWarning(...): void

å…³ç³»:
- UI "1" *-- "*" Dashboard : displays
- UI "1" *-- "1" Filter : owns
- UI "1" *-- "1" ReportCustomization : owns
- UI "1" *-- "1" CarbonFootprint : owns
- UI "1" o-- "*" Report : displays
```

**å®žçŽ°æ–¹æ¡ˆ**: ä½¿ç”¨React Context API

#### UIContext.jsï¼ˆUIç±»çš„Reactå®žçŽ°ï¼‰

```javascript
// contexts/UIContext.js
import React, { createContext, useContext, useState } from 'react';
import DashboardService from '../services/DashboardService';
import CarbonFootprintService from '../services/CarbonFootprintService';
import FilterService from '../services/FilterService';
import ReportCustomizationService from '../services/ReportCustomizationService';

class UI {
  constructor() {
    // Attributes from class diagram
    this.currentView = '';
  
    // Composition relationships (UI owns these)
    this.dashboard = null;  // UI "1" *-- "*" Dashboard
    this.filter = null;     // UI "1" *-- "1" Filter
    this.reportCustomization = null;  // UI "1" *-- "1" ReportCustomization
    this.carbonFootprint = null;  // UI "1" *-- "1" CarbonFootprint
  
    // Aggregation relationships (UI displays these)
    this.reports = [];  // UI "1" o-- "*" Report
  
    // UI state
    this.warningMessage = '';
    this.isLoading = false;
  }

  // Methods from class diagram
  renderView(viewName) {
    this.currentView = viewName;
    console.log(`Rendering view: ${viewName}`);
  }

  updateUI(data) {
    // Update UI state with new data
    console.log('Updating UI with data:', data);
  }

  displayWarning(message) {
    this.warningMessage = message;
    console.log(`Warning: ${message}`);
  }
}

// Create Context
const UIContext = createContext();

// Provider Component
export const UIProvider = ({ children }) => {
  const [ui] = useState(() => new UI());
  const [currentView, setCurrentView] = useState('');
  const [warningMessage, setWarningMessage] = useState('');
  const [isLoading, setIsLoading] = useState(false);

  // Wrap UI methods to update React state
  const renderView = (viewName) => {
    ui.renderView(viewName);
    setCurrentView(viewName);
  };

  const updateUI = (data) => {
    ui.updateUI(data);
    // Trigger re-render if needed
  };

  const displayWarning = (message) => {
    ui.displayWarning(message);
    setWarningMessage(message);
  
    // Auto-clear warning after 5 seconds
    setTimeout(() => setWarningMessage(''), 5000);
  };

  const value = {
    ui,
    currentView,
    warningMessage,
    isLoading,
    setIsLoading,
    renderView,
    updateUI,
    displayWarning
  };

  return <UIContext.Provider value={value}>{children}</UIContext.Provider>;
};

// Custom Hook
export const useUI = () => {
  const context = useContext(UIContext);
  if (!context) {
    throw new Error('useUI must be used within UIProvider');
  }
  return context;
};

export default UIContext;
```

**ä½¿ç”¨ç¤ºä¾‹**:

```javascript
// App.js
import { UIProvider } from './contexts/UIContext';

function App() {
  return (
    <UIProvider>
      <BrowserRouter>
        <Routes>
          {/* ... routes */}
        </Routes>
      </BrowserRouter>
    </UIProvider>
  );
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useUI } from '../contexts/UIContext';

function SomeComponent() {
  const { renderView, displayWarning, currentView } = useUI();
  
  useEffect(() => {
    renderView('Dashboard');
  }, []);
  
  const handleError = () => {
    displayWarning('Something went wrong!');
  };
  
  return <div>Current View: {currentView}</div>;
}
```

**è®¾è®¡ä¼˜åŠ¿**:

1. âœ… å®Œå…¨ç¬¦åˆç±»å›¾å®šä¹‰ï¼ˆattributeså’Œmethodsï¼‰
2. âœ… å®žçŽ°äº†ç»„åˆå…³ç³»ï¼ˆowns Dashboard, Filter, etc.ï¼‰
3. âœ… è½»é‡çº§ï¼Œé€‚åˆåŽŸåž‹å¼€å‘
4. âœ… æ˜“äºŽæµ‹è¯•å’Œç»´æŠ¤
5. âœ… ç¬¦åˆReactæœ€ä½³å®žè·µ

---

### å‰ç«¯æœåŠ¡ç±»ï¼ˆå¯¹åº”ç±»å›¾ï¼‰

#### UserService.js

```javascript
// services/UserService.js
import api from '../utils/api';

class UserService {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.firstName = '';
    this.lastName = '';
    this.email = '';
    this.password = '';
    this.role = '';
  }

  // Methods from class diagram
  async createUser(id, firstName, lastName, email, password, role) {
    const response = await api.post('/api/user/create', {
      id, firstName, lastName, email, password, role
    });
    return response.data;
  }

  async login(email, password) {
    const response = await api.post('/api/user/login', { email, password });
    const user = response.data;
  
    // Store user data
    this.id = user.id;
    this.firstName = user.firstName;
    this.lastName = user.lastName;
    this.email = user.email;
    this.role = user.role;
  
    return user;
  }

  async logout() {
    await api.post('/api/user/logout');
    // Clear user data
    this.id = null;
    this.firstName = '';
    this.lastName = '';
    this.email = '';
    this.role = '';
  }
}

export default new UserService();
```

#### CarbonFootprintService.js

```javascript
// services/CarbonFootprintService.js
import api from '../utils/api';

class CarbonFootprintService {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.co2Emission = 0.0;
    this.billEntries = [];
  }

  // Methods from class diagram
  async calculateFootprint(electricityUsage, emissionFactor) {
    const response = await api.post('/api/carbon-footprint/calculate', {
      electricityUsage,
      emissionFactor
    });
    this.co2Emission = response.data.co2Emission;
    return this.co2Emission;  // Returns double
  }

  async addBillEntry(year, month, electricityUsage) {
    const response = await api.post('/api/carbon-footprint/bill-entry', {
      year, month, electricityUsage
    });
    return response.data;
  }

  async overrideWithDIY() {
    const response = await api.put('/api/carbon-footprint/override');
    return response.data;  // Returns DataSet
  }

  async getCarbonFootprint(id) {
    const response = await api.get(`/api/carbon-footprint/${id}`);
    this.id = response.data.id;
    this.co2Emission = response.data.co2Emission;
    this.billEntries = response.data.billEntries;
    return response.data;
  }
}

export default new CarbonFootprintService();
```

#### ElectricityReportService.js

```javascript
// services/ElectricityReportService.js
import api from '../utils/api';

class ElectricityReportService {
  constructor() {
    // Attributes from class diagram (inherited from Report)
    this.id = null;
    this.reportType = 'Electricity';
  
    // Specific attributes
    this.electricityConsumption = 0.0;
    this.electricityGeneration = 0.0;
  }

  // Methods from class diagram
  async calculateCarbonFootprint(emissionFactor) {
    const response = await api.post('/api/electricity/report/calculate-carbon', {
      consumption: this.electricityConsumption,
      emissionFactor
    });
    return response.data.carbonFootprint;  // Returns double
  }

  async generateHotspotMap(data) {
    const response = await api.get('/api/electricity/report/hotspot-map/' + this.id);
    return response.data;  // Returns Map
  }

  async generateCarbonVsConsumptionChart() {
    const response = await api.get('/api/electricity/report/carbon-chart/' + this.id);
    return response.data;  // Returns Chart
  }

  // Inherited methods from Report
  async exportReport() {
    const response = await api.post('/api/electricity/report/export/' + this.id);
    return response.data;
  }

  async filterReport(filters) {
    const response = await api.post('/api/electricity/report/filter', filters);
    return response.data;
  }

  async getReport(userId) {
    const response = await api.get(`/api/electricity/report/${userId}`);
    this.id = response.data.id;
    this.reportType = response.data.reportType;
    this.electricityConsumption = response.data.electricityConsumption;
    this.electricityGeneration = response.data.electricityGeneration;
    return response.data;
  }
}

export default new ElectricityReportService();
```

#### DashboardService.js

```javascript
// services/DashboardService.js
import api from '../utils/api';

class DashboardService {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.dashboardType = '';
  }

  // Methods from class diagram
  async generateView(user, type) {
    const response = await api.get('/api/dashboard/view', {
      params: { userId: user.id, type }
    });
    return response.data;  // Returns DashboardView
  }

  async filterByPermissions(user) {
    const response = await api.get('/api/dashboard/filter-permissions', {
      params: { userId: user.id }
    });
    return response.data;  // Returns List
  }
}

export default new DashboardService();
```

#### VisualizerService.js

```javascript
// services/VisualizerService.js
import api from '../utils/api';

class VisualizerService {
  constructor() {
    // Attributes from class diagram
    this.id = null;
    this.visualizeType = '';
  }

  // Methods from class diagram
  async generateGraph(data, graphType) {
    const response = await api.post('/api/visualizer/graph', {
      data, graphType
    });
    return response.data;
  }

  async calculateSelfSufficiency(generation, consumption) {
    const response = await api.get('/api/visualizer/self-sufficiency', {
      params: { generation, consumption }
    });
    return response.data.selfSufficiency;  // Returns double
  }

  async renderHotspotMap(data) {
    const response = await api.get('/api/visualizer/hotspot-map', {
      params: { data }
    });
    return response.data;  // Returns Map
  }
}

export default new VisualizerService();
```

### Reactç»„ä»¶å®žçŽ°

#### LoginPage.jsx

```jsx
// components/Login/LoginPage.jsx
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import UserService from '../../services/UserService';

const LoginPage = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const navigate = useNavigate();

  const handleLogin = async (e) => {
    e.preventDefault();
    try {
      // Call User.login() method from class diagram
      const user = await UserService.login(email, password);
    
      // Store user info (all User attributes)
      localStorage.setItem('user', JSON.stringify({
        id: user.id,
        firstName: user.firstName,
        lastName: user.lastName,
        email: user.email,
        role: user.role
      }));
    
      // Navigate based on role
      if (user.role === 'Admin') {
        navigate('/admin/dashboard');
      } else {
        navigate('/dashboard');
      }
    } catch (err) {
      setError('Invalid email or password');
    }
  };

  return (
    <div className="login-container">
      <h1>EcoSphere Login</h1>
      <form onSubmit={handleLogin}>
        <div>
          <label>Email:</label>
          <input 
            type="email" 
            value={email} 
            onChange={(e) => setEmail(e.target.value)}
            required
          />
        </div>
        <div>
          <label>Password:</label>
          <input 
            type="password" 
            value={password} 
            onChange={(e) => setPassword(e.target.value)}
            required
          />
        </div>
        {error && <div className="error">{error}</div>}
        <button type="submit">Login</button>
      </form>
    </div>
  );
};

export default LoginPage;
```

#### CarbonFootprintPage.jsx

```jsx
// components/CarbonFootprint/CarbonFootprintPage.jsx
import React, { useState, useEffect } from 'react';
import CarbonFootprintService from '../../services/CarbonFootprintService';
import VisualizerService from '../../services/VisualizerService';
import { Line } from 'react-chartjs-2';

const CarbonFootprintPage = () => {
  const [carbonFootprint, setCarbonFootprint] = useState({
    id: null,
    co2Emission: 0,
    billEntries: []
  });
  const [chartData, setChartData] = useState(null);

  useEffect(() => {
    loadCarbonFootprint();
  }, []);

  const loadCarbonFootprint = async () => {
    const user = JSON.parse(localStorage.getItem('user'));
    const data = await CarbonFootprintService.getCarbonFootprint(user.id);
    setCarbonFootprint(data);
  
    // Generate visualization
    const chart = await VisualizerService.generateGraph(data, 'line');
    setChartData(chart);
  };

  const handleCalculate = async () => {
    // Calculate total electricity usage from bill entries
    const totalUsage = carbonFootprint.billEntries.reduce(
      (sum, entry) => sum + entry.electricityUsage, 0
    );
  
    // Call CarbonFootprint.calculateFootprint() method
    const emissionFactor = 0.5; // kg CO2 per kWh
    const result = await CarbonFootprintService.calculateFootprint(
      totalUsage, 
      emissionFactor
    );
  
    setCarbonFootprint(prev => ({ ...prev, co2Emission: result }));
  };

  const handleAddBillEntry = async (year, month, electricityUsage) => {
    // Call CarbonFootprint.addBillEntry() method
    await CarbonFootprintService.addBillEntry(year, month, electricityUsage);
    loadCarbonFootprint();
  };

  return (
    <div className="carbon-footprint-page">
      <h1>Carbon Footprint Tracking</h1>
    
      {/* Display CarbonFootprint attributes */}
      <div className="carbon-summary">
        <h2>Summary</h2>
        <p>ID: {carbonFootprint.id}</p>
        <p>Total CO2 Emission: {carbonFootprint.co2Emission.toFixed(2)} kg</p>
      </div>

      {/* Display BillEntry list */}
      <div className="bill-entries">
        <h2>Bill Entries</h2>
        <table>
          <thead>
            <tr>
              <th>Year</th>
              <th>Month</th>
              <th>Electricity Usage (kWh)</th>
            </tr>
          </thead>
          <tbody>
            {carbonFootprint.billEntries.map(entry => (
              <tr key={entry.id}>
                <td>{entry.year}</td>
                <td>{entry.month}</td>
                <td>{entry.electricityUsage}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      {/* Visualization */}
      {chartData && (
        <div className="chart-container">
          <h2>Carbon Footprint Trend</h2>
          <Line data={chartData} />
        </div>
      )}

      <button onClick={handleCalculate}>Calculate Carbon Footprint</button>
    </div>
  );
};

export default CarbonFootprintPage;
```

#### ElectricityDashboardPage.jsx

```jsx
// components/Dashboard/ElectricityDashboardPage.jsx
import React, { useState, useEffect } from 'react';
import ElectricityReportService from '../../services/ElectricityReportService';
import DashboardService from '../../services/DashboardService';
import CarbonFootprintService from '../../services/CarbonFootprintService';
import VisualizerService from '../../services/VisualizerService';
import { Line, Bar } from 'react-chartjs-2';

const ElectricityDashboardPage = () => {
  const [report, setReport] = useState({
    id: null,
    reportType: 'Electricity',
    electricityConsumption: 0,
    electricityGeneration: 0
  });
  const [carbonFootprint, setCarbonFootprint] = useState(0);
  const [carbonChartData, setCarbon ChartData] = useState(null);
  const [selfSufficiency, setSelfSufficiency] = useState(0);

  useEffect(() => {
    loadDashboard();
  }, []);

  const loadDashboard = async () => {
    const user = JSON.parse(localStorage.getItem('user'));
  
    // Call Dashboard.generateView() method
    const dashboardView = await DashboardService.generateView(user, 'Electricity');
  
    // Load electricity report data
    const reportData = await ElectricityReportService.getReport(user.id);
    setReport(reportData);
  
    // Call ElectricityReport.calculateCarbonFootprint() method
    const emissionFactor = 0.5; // kg CO2 per kWh
    const carbon = await ElectricityReportService.calculateCarbonFootprint(emissionFactor);
    setCarbonFootprint(carbon);
  
    // Call ElectricityReport.generateCarbonVsConsumptionChart() method
    const chart = await ElectricityReportService.generateCarbonVsConsumptionChart();
    setCarbonChartData(chart);
  
    // Call Visualizer.calculateSelfSufficiency() method
    const sufficiency = await VisualizerService.calculateSelfSufficiency(
      reportData.electricityGeneration,
      reportData.electricityConsumption
    );
    setSelfSufficiency(sufficiency);
  };

  const handleExport = async () => {
    // Call ElectricityReport.exportReport() method (inherited from Report)
    await ElectricityReportService.exportReport();
    alert('Report exported successfully!');
  };

  const handleGenerateHotspotMap = async () => {
    // Call ElectricityReport.generateHotspotMap() method
    const map = await ElectricityReportService.generateHotspotMap();
    // Display map
  };

  return (
    <div className="electricity-dashboard">
      <h1>Electricity Dashboard</h1>
    
      {/* Display ElectricityReport attributes */}
      <div className="report-summary">
        <h2>Report Details</h2>
        <p>Report ID: {report.id}</p>
        <p>Type: {report.reportType}</p>
        <p>Consumption: {report.electricityConsumption} kWh</p>
        <p>Generation: {report.electricityGeneration} kWh</p>
        <p>Self-Sufficiency: {selfSufficiency.toFixed(2)}%</p>
      </div>

      {/* å…³é”®: æ˜¾ç¤ºç¢³è¶³è¿¹æ•°æ®ï¼ˆéµå¾ªç±»å›¾å…³ç³»ï¼‰ */}
      <div className="carbon-footprint-section">
        <h2>Carbon Footprint</h2>
        <p>CO2 Emission: {carbonFootprint.toFixed(2)} kg</p>
        <p className="note">
          * Carbon footprint calculated based on electricity consumption
        </p>
      </div>

      {/* Carbon vs Consumption Chart */}
      {carbonChartData && (
        <div className="chart-container">
          <h2>Carbon Emission vs Electricity Consumption</h2>
          <Line data={carbonChartData} />
        </div>
      )}

      {/* Action buttons */}
      <div className="actions">
        <button onClick={handleExport}>Export Report (PDF)</button>
        <button onClick={handleGenerateHotspotMap}>Generate Hotspot Map</button>
      </div>
    </div>
  );
};

export default ElectricityDashboardPage;
```

### è·¯ç”±é…ç½®

```jsx
// App.js
import React from 'react';
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import LoginPage from './components/Login/LoginPage';
import DashboardLayout from './components/Dashboard/DashboardLayout';
import ElectricityDashboardPage from './components/Dashboard/ElectricityDashboardPage';
import CarbonFootprintPage from './components/CarbonFootprint/CarbonFootprintPage';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/login" element={<LoginPage />} />
        <Route path="/dashboard" element={<DashboardLayout />}>
          <Route path="electricity" element={<ElectricityDashboardPage />} />
          <Route path="carbon-footprint" element={<CarbonFootprintPage />} />
        </Route>
        <Route path="/" element={<Navigate to="/login" />} />
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

---

## å®žçŽ°æ­¥éª¤ï¼ˆæ ¹æ®ä¼˜å…ˆçº§è°ƒæ•´ï¼‰

### Phase 1: çŽ¯å¢ƒæ­å»º (1-2å°æ—¶) - ðŸ”´ P0

**ä»»åŠ¡æ¸…å•**:

- [ ] åˆå§‹åŒ–Reacté¡¹ç›® (`npx create-react-app frontend` æˆ– `npm create vite@latest`)
- [ ] åˆå§‹åŒ–Node.jsåŽç«¯é¡¹ç›® (`npm init -y`)
- [ ] å®‰è£…åŽç«¯ä¾èµ–: express, mssql, bcrypt, jsonwebtoken, cors, dotenv
- [ ] å®‰è£…å‰ç«¯ä¾èµ–: react-router-dom, axios, chart.js, react-chartjs-2
- [ ] é…ç½®SQL Serverè¿žæŽ¥
- [ ] åˆ›å»ºåŸºç¡€é¡¹ç›®ç»“æž„ï¼ˆæŒ‰ç…§ä¸Šè¿°ç›®å½•ç»“æž„ï¼‰
- [ ] é…ç½®.envæ–‡ä»¶ï¼ˆæ•°æ®åº“è¿žæŽ¥ã€JWTå¯†é’¥ç­‰ï¼‰
- [ ] åˆ›å»ºUIContextï¼ˆUIç±»çš„Reactå®žçŽ°ï¼‰

**å‚è€ƒ**: CaseStudy Week 1-2 ä»»åŠ¡

---

### Phase 2: æ•°æ®åº“è®¾è®¡ (1å°æ—¶) - ðŸ”´ P0

**ä»»åŠ¡æ¸…å•**:

- [ ] æ ¹æ®ERDå›¾åˆ›å»ºæ•°æ®åº“è¡¨
- [ ] åˆ›å»ºUSERSè¡¨
- [ ] åˆ›å»ºCARBON_FOOTPRINTè¡¨ï¼ˆç‹¬ç«‹è¡¨ï¼ŒåŒ…å«calculation_sourceå­—æ®µï¼‰
- [ ] åˆ›å»ºBILL_ENTRYè¡¨
- [ ] åˆ›å»ºREPORTSè¡¨ï¼ˆSkeletonï¼‰
- [ ] åˆ›å»ºELECTRICITY_REPORTSè¡¨ï¼ˆSkeletonï¼‰
- [ ] åˆ›å»ºHISTORY_LOGSè¡¨ï¼ˆSkeletonï¼‰
- [ ] åˆ›å»ºREPORT_HISTORYè¡¨ï¼ˆSkeletonï¼‰
- [ ] æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆè‡³å°‘2ä¸ªç”¨æˆ·ï¼š1ä¸ªAdminï¼Œ1ä¸ªTeamMemberï¼‰
- [ ] æ’å…¥æµ‹è¯•ç¢³è¶³è¿¹æ•°æ®å’Œè´¦å•æ¡ç›®
- [ ] éªŒè¯è¡¨å…³ç³»å’Œå¤–é”®çº¦æŸ

**å‚è€ƒ**: instructions/ref/erd-diagram.puml

---

### Phase 3: åŽç«¯APIå¼€å‘ - P0æ ¸å¿ƒåŠŸèƒ½ (4-5å°æ—¶)

#### 3.1 Userè®¤è¯ä¸Žç®¡ç†æ¨¡å— (2å°æ—¶) - ðŸ”´ P0

- [ ] å®žçŽ°Userç±»ï¼ˆmodels/User.jsï¼‰
- [ ] å®žçŽ°Adminç±»ï¼ˆç»§æ‰¿Userï¼ŒåŒ…å«addUser, editUserPermissions, assignRoleæ–¹æ³•ï¼‰
- [ ] å®žçŽ°TeamMemberç±»ï¼ˆç»§æ‰¿Userï¼‰
- [ ] å®žçŽ°AccessControlç±»
- [ ] åˆ›å»ºè®¤è¯ä¸­é—´ä»¶ï¼ˆJWTéªŒè¯ï¼‰
- [ ] å®žçŽ°POST /api/user/login - User.login()
- [ ] å®žçŽ°POST /api/user/logout - User.logout()
- [ ] **å®žçŽ°POST /api/user/create - Admin.addUser()** ï¼ˆæ— æ³¨å†ŒåŠŸèƒ½ï¼‰
- [ ] **å®žçŽ°PUT /api/user/:id - Admin.editUser()**
- [ ] **å®žçŽ°PUT /api/user/:id/permissions - Admin.editUserPermissions()**
- [ ] **å®žçŽ°GET /api/users - AdminèŽ·å–ç”¨æˆ·åˆ—è¡¨**
- [ ] æµ‹è¯•ç™»å½•æµç¨‹å’Œç”¨æˆ·ç®¡ç†åŠŸèƒ½

#### 3.2 CarbonFootprintæ¨¡å—ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰ (2å°æ—¶) - ðŸ”´ P0

- [ ] å®žçŽ°CarbonFootprintç±»ï¼ˆmodels/CarbonFootprint.jsï¼‰
  - [ ] æ”¯æŒæ•°æ®åº“è‡ªåŠ¨è®¡ç®—æ¨¡å¼
  - [ ] æ”¯æŒç”¨æˆ·ä¸´æ—¶ä¸Šä¼ æ¨¡å¼
- [ ] å®žçŽ°BillEntryç±»ï¼ˆmodels/BillEntry.jsï¼‰
- [ ] å®žçŽ°GET /api/carbon-footprint/:userId - èŽ·å–ç”¨æˆ·ç¢³è¶³è¿¹
- [ ] å®žçŽ°POST /api/carbon-footprint/calculate-from-db - ä»Žæ•°æ®åº“è®¡ç®—
- [ ] å®žçŽ°POST /api/carbon-footprint/calculate-from-upload - ä¸´æ—¶ä¸Šä¼ è®¡ç®—ï¼ˆä¸æŒä¹…åŒ–ï¼‰
- [ ] å®žçŽ°POST /api/carbon-footprint/bill-entry - addBillEntry()
- [ ] å®žçŽ°GET /api/carbon-footprint/:userId/history - èŽ·å–åŽ†å²æ•°æ®
- [ ] æµ‹è¯•ä¸¤ç§æ¨¡å¼çš„ç¢³è¶³è¿¹è®¡ç®—é€»è¾‘

#### 3.3 Skeletonç±»å®žçŽ° (0.5-1å°æ—¶) - ðŸŸ¢ P2

- [ ] å®žçŽ°ReportåŸºç±»ï¼ˆmodels/Report.jsï¼‰- Skeleton
- [ ] å®žçŽ°ElectricityReportç±»ï¼ˆç»§æ‰¿Reportï¼‰- Skeleton
- [ ] å®žçŽ°Dashboardç±»ï¼ˆmodels/Dashboard.jsï¼‰- Skeleton
- [ ] å®žçŽ°Visualizerç±»ï¼ˆmodels/Visualizer.jsï¼‰- Skeleton
- [ ] å®žçŽ°Forecastç±»ï¼ˆmodels/Forecast.jsï¼‰- Skeletonï¼ˆæ ‡æ³¨æœªæ¥å®žçŽ°ï¼‰
- [ ] å®žçŽ°PeriodComparisonç±»ï¼ˆmodels/PeriodComparison.jsï¼‰- Skeleton

**å‚è€ƒ**:

- class-diagram-optimized.puml
- CaseStudy Week 3-5 ä»»åŠ¡

---

### Phase 4: å‰ç«¯å¼€å‘ - P0æ ¸å¿ƒåŠŸèƒ½ (5-6å°æ—¶)

#### 4.1 åŸºç¡€è®¾ç½® (1å°æ—¶) - ðŸ”´ P0

- [ ] åˆ›å»ºAPIå·¥å…·ç±»ï¼ˆutils/api.jsï¼‰
- [ ] é…ç½®Axiosæ‹¦æˆªå™¨ï¼ˆæ·»åŠ JWT tokenï¼‰
- [ ] åˆ›å»ºUIContextï¼ˆUIç±»å®žçŽ°ï¼‰
- [ ] åˆ›å»ºæ‰€æœ‰Serviceç±»ï¼ˆå¯¹åº”ç±»å›¾ï¼‰
- [ ] é…ç½®React Router
- [ ] åˆ›å»ºåŸºç¡€å¸ƒå±€ç»„ä»¶ï¼ˆHeader, Sidebarï¼‰

#### 4.2 ç™»å½•é¡µé¢ (1å°æ—¶) - ðŸ”´ P0

- [ ] åˆ›å»ºLoginPageç»„ä»¶
- [ ] å®žçŽ°è¡¨å•éªŒè¯
- [ ] è°ƒç”¨UserService.login()
- [ ] å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«æ‰€æœ‰User attributesï¼‰
- [ ] å®žçŽ°è§’è‰²åŸºç¡€çš„è·¯ç”±è·³è½¬ï¼ˆAdmin â†’ ç”¨æˆ·ç®¡ç†ï¼ŒTeamMember â†’ Dashboardï¼‰
- [ ] æµ‹è¯•ç™»å½•æµç¨‹

#### 4.3 ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆAdminä¸“ç”¨ï¼‰ (1.5å°æ—¶) - ðŸ”´ P0

- [ ] åˆ›å»ºUserManagementPageç»„ä»¶ï¼ˆAdminä¸“ç”¨ï¼‰
- [ ] æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
- [ ] å®žçŽ°æ·»åŠ ç”¨æˆ·åŠŸèƒ½ï¼ˆAdmin.addUser()ï¼‰
- [ ] å®žçŽ°ç¼–è¾‘ç”¨æˆ·åŠŸèƒ½ï¼ˆAdmin.editUser()ï¼‰
- [ ] å®žçŽ°åˆ†é…æƒé™åŠŸèƒ½ï¼ˆAdmin.editUserPermissions()ï¼‰
- [ ] å®žçŽ°è§’è‰²åˆ†é…ï¼ˆAdmin.assignRole()ï¼‰
- [ ] æƒé™æ£€æŸ¥ï¼ˆåªæœ‰Adminå¯è®¿é—®ï¼‰
- [ ] æµ‹è¯•ç”¨æˆ·ç®¡ç†æµç¨‹

#### 4.4 ç¢³è¶³è¿¹é¡µé¢ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰ (2å°æ—¶) - ðŸ”´ P0

- [ ] åˆ›å»ºCarbonFootprintPageç»„ä»¶
- [ ] **æ¨¡å¼1: æ•°æ®åº“è‡ªåŠ¨è®¡ç®—**
  - [ ] æ˜¾ç¤ºä»Žæ•°æ®åº“è®¡ç®—çš„ç¢³è¶³è¿¹æ•°æ®
  - [ ] æ˜¾ç¤ºåŽ†å²ç¢³è¶³è¿¹è¶‹åŠ¿å›¾è¡¨
  - [ ] æ˜¾ç¤ºBillEntryåˆ—è¡¨
- [ ] **æ¨¡å¼2: ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ **
  - [ ] åˆ›å»ºä¸Šä¼ è¡¨å•ï¼ˆå¹´ã€æœˆã€ç”¨ç”µé‡ï¼‰
  - [ ] å®žæ—¶è®¡ç®—ç¢³è¶³è¿¹ï¼ˆä¸æŒä¹…åŒ–ï¼‰
  - [ ] æ˜¾ç¤ºè®¡ç®—ç»“æžœ
  - [ ] æ·»åŠ æç¤ºï¼šæ•°æ®ä¸ä¼šä¿å­˜
- [ ] æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ï¼ˆTabæˆ–æŒ‰é’®ï¼‰
- [ ] ä½¿ç”¨Chart.jså¯è§†åŒ–æ•°æ®
- [ ] æµ‹è¯•ä¸¤ç§æ¨¡å¼çš„ç¢³è¶³è¿¹è®¡ç®—

#### 4.5 Skeletoné¡µé¢ï¼ˆæ¡†æž¶æ­å»ºï¼‰ (0.5-1å°æ—¶) - ðŸŸ¢ P2

- [ ] åˆ›å»ºElectricityDashboardPageç»„ä»¶ï¼ˆSkeletonï¼‰
- [ ] åˆ›å»ºWaterDashboardPageç»„ä»¶ï¼ˆSkeletonï¼‰
- [ ] åˆ›å»ºThermalDashboardPageç»„ä»¶ï¼ˆSkeletonï¼‰
- [ ] æ·»åŠ å¯¼èˆªé“¾æŽ¥ï¼ˆæš‚æ—¶æ˜¾ç¤º"Coming Soon"ï¼‰

**å‚è€ƒ**:

- Figmaè®¾è®¡: instructions/ref/figma/
- CaseStudy Week 7-9 ä»»åŠ¡

---

### Phase 5: P1åŠŸèƒ½ï¼ˆæ—¶é—´å…è®¸ï¼‰ - ç”µåŠ›ä»ªè¡¨æ¿åŸºç¡€ç‰ˆ (3-4å°æ—¶)

#### 5.1 ElectricityReportåŽç«¯ (1.5å°æ—¶) - ðŸŸ¡ P1

- [ ] å®Œå–„ElectricityReportç±»å®žçŽ°
- [ ] å®žçŽ°GET /api/electricity/report/:userId
- [ ] å®žçŽ°POST /api/electricity/report/calculate-carbon
- [ ] å®žçŽ°GET /api/electricity/report/carbon-chart/:userId
- [ ] ç¡®ä¿ElectricityReportå…³è”CarbonFootprintæ•°æ®

#### 5.2 ç”µåŠ›ä»ªè¡¨æ¿å‰ç«¯ (2å°æ—¶) - ðŸŸ¡ P1

- [ ] å®Œå–„ElectricityDashboardPageç»„ä»¶
- [ ] æ˜¾ç¤ºç”µåŠ›æ¶ˆè€—å’Œå‘ç”µæ•°æ®
- [ ] **é›†æˆæ˜¾ç¤ºç¢³è¶³è¿¹æ•°æ®**
- [ ] å®žçŽ°åŸºç¡€å›¾è¡¨å¯è§†åŒ–
- [ ] è®¡ç®—è‡ªç»™è‡ªè¶³çŽ‡
- [ ] æµ‹è¯•å®Œæ•´æµç¨‹

---

### Phase 6: é›†æˆä¸Žæµ‹è¯• (2-3å°æ—¶) - ðŸ”´ P0

#### 6.1 å‰åŽç«¯è”è°ƒ (1å°æ—¶)

- [ ] æµ‹è¯•ç™»å½•æµç¨‹ï¼ˆAdminå’ŒTeamMemberï¼‰
- [ ] æµ‹è¯•ç”¨æˆ·ç®¡ç†æµç¨‹ï¼ˆAdminæ·»åŠ /ç¼–è¾‘ç”¨æˆ·ï¼‰
- [ ] æµ‹è¯•ç¢³è¶³è¿¹è®¡ç®—æµç¨‹ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰
- [ ] æµ‹è¯•æƒé™æŽ§åˆ¶ï¼ˆAdmin vs TeamMemberï¼‰
- [ ] ä¿®å¤APIè°ƒç”¨é—®é¢˜

#### 6.2 åŠŸèƒ½æµ‹è¯• (1å°æ—¶)

- [ ] æµ‹è¯•User.login()å’Œlogout()
- [ ] æµ‹è¯•Admin.addUser()å’ŒeditUserPermissions()
- [ ] æµ‹è¯•CarbonFootprint.calculateFootprint()ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰
- [ ] æµ‹è¯•CarbonFootprint.addBillEntry()
- [ ] æµ‹è¯•AccessControl.checkPermission()
- [ ] æµ‹è¯•æ•°æ®æŒä¹…åŒ–ï¼ˆæ¨¡å¼1ï¼‰å’Œä¸´æ—¶æ•°æ®ï¼ˆæ¨¡å¼2ï¼‰

#### 6.3 UI/UXä¼˜åŒ– (1å°æ—¶)

- [ ] æ·»åŠ åŠ è½½çŠ¶æ€ï¼ˆä½¿ç”¨UIContextï¼‰
- [ ] æ·»åŠ é”™è¯¯å¤„ç†ï¼ˆä½¿ç”¨UI.displayWarning()ï¼‰
- [ ] ä¼˜åŒ–å›¾è¡¨æ˜¾ç¤º
- [ ] å“åº”å¼è®¾è®¡è°ƒæ•´
- [ ] æ·»åŠ ç”¨æˆ·åé¦ˆæç¤º

**å‚è€ƒ**: CaseStudy Week 11-12 ä»»åŠ¡

---

## ç±»å›¾å…³ç³»æ£€æŸ¥æ¸…å•

### å¿…é¡»å®žçŽ°çš„ç»§æ‰¿å…³ç³»

- [ ] `Admin --|> User` : Adminç»§æ‰¿User
- [ ] `TeamMember --|> User` : TeamMemberç»§æ‰¿User
- [ ] `ElectricityReport --|> Report` : ElectricityReportç»§æ‰¿Report

### å¿…é¡»å®žçŽ°çš„ç»„åˆå…³ç³»ï¼ˆå¼ºæ‹¥æœ‰ï¼‰

- [ ] `UI "1" *-- "*" Dashboard` : UIç»„åˆDashboard
- [ ] `UI "1" *-- "1" Filter` : UIç»„åˆFilter
- [ ] `UI "1" *-- "1" ReportCustomization` : UIç»„åˆReportCustomization
- [ ] `UI "1" *-- "1" CarbonFootprint` : UIç»„åˆCarbonFootprint
- [ ] `CarbonFootprint "1" o-- "*" BillEntry` : CarbonFootprintåŒ…å«BillEntry

### å¿…é¡»å®žçŽ°çš„èšåˆå…³ç³»ï¼ˆå¼±æ‹¥æœ‰ï¼‰

- [ ] `UI "1" o-- "*" Report` : UIèšåˆReport
- [ ] `User "1" o-- "*" HistoryLog` : Userç”ŸæˆHistoryLog

### å¿…é¡»å®žçŽ°çš„ä¾èµ–å…³ç³»

- [ ] `CarbonFootprint "1" --> "1" ElectricityReport` : CarbonFootprintè®¡ç®—ElectricityReport
- [ ] `Dashboard --> Visualizer` : Dashboardä½¿ç”¨Visualizer
- [ ] `Dashboard --> Report` : DashboardèšåˆReport
- [ ] `Dashboard ..> AccessControl` : Dashboardæ£€æŸ¥æƒé™
- [ ] `Visualizer --> Report` : Visualizerå¯è§†åŒ–Report
- [ ] `Forecast --> Report` : Forecastç”ŸæˆReport
- [ ] `Report --> PeriodComparison` : Reportæ¯”è¾ƒPeriodComparison
- [ ] `Report ..> Database` : ReportæŸ¥è¯¢Database
- [ ] `Report ..> AccessControl` : Reportæ£€æŸ¥æƒé™
- [ ] `User --> UI` : Userä½¿ç”¨UI
- [ ] `Admin ..> AccessControl` : Adminä½¿ç”¨AccessControl

### å…³é”®é›†æˆç‚¹éªŒè¯

- [ ] ç”µåŠ›æŠ¥å‘Šä¸­æ˜¾ç¤ºç¢³è¶³è¿¹æ•°æ®
- [ ] ElectricityReportè°ƒç”¨CarbonFootprint.calculateFootprint()
- [ ] Dashboardè°ƒç”¨AccessControl.checkPermission()
- [ ] Reportè°ƒç”¨Database.executeQuery()
- [ ] Visualizerç”Ÿæˆå›¾è¡¨æ•°æ®

---

## å‚è€ƒæ–‡æ¡£

### Phase 3 è¦æ±‚æ–‡æ¡£

- **ä¸»æ–‡æ¡£**: `instructions/Phase3_extracted.md`
  - åŽŸåž‹è¦æ±‚: Login + Carbon Footprint (non-trivial) + Electricity Dashboard
  - æäº¤è¦æ±‚: æºä»£ç  + æ¼”ç¤º

### Phase 2 è®¾è®¡æ–‡æ¡£

- **ä¸»æ–‡æ¡£**: `instructions/ref/Phase2_extracted.md`
  - Use Caseæè¿° (Page 11-22)
  - åŠŸèƒ½éœ€æ±‚å’ŒéžåŠŸèƒ½éœ€æ±‚ (Page 5-6)
  - æ•°æ®å­˜å‚¨å’ŒæŒä¹…åŒ– (Page 8-9)
  - UIè®¾è®¡ (Page 24-36)

### æ¡ˆä¾‹ç ”ç©¶å’Œé¡¹ç›®ç®¡ç†

- **ä¸»æ–‡æ¡£**: `instructions/ref/CaseStudy_extracted.md`
  - å·¥ä½œåˆ†è§£ç»“æž„ (WBS)
  - ä»»åŠ¡ä¾èµ–å…³ç³»
  - æ—¶é—´ä¼°ç®—
  - é‡Œç¨‹ç¢‘å®šä¹‰

### UMLå›¾è¡¨

#### ç±»å›¾ï¼ˆæœ€é‡è¦ - å¿…é¡»ä¸¥æ ¼éµå¾ªï¼‰

- **æ–‡ä»¶**: `instructions/ref/class-diagram-optimized.puml`
- **ç”¨é€”**: æ‰€æœ‰ç±»çš„attributeså’Œmethodså®šä¹‰
- **å…³é”®åŒ…**: User Management, Reporting System, Carbon Analysis, User Interface, Visualization, Analytics

#### ERDå›¾

- **æ–‡ä»¶**: `instructions/ref/erd-diagram.puml`
- **ç”¨é€”**: æ•°æ®åº“è¡¨ç»“æž„è®¾è®¡
- **å…³é”®è¡¨**: USERS, REPORTS, ELECTRICITY_REPORTS, CARBON_FOOTPRINT, BILL_ENTRY

#### éƒ¨ç½²å›¾

- **æ–‡ä»¶**: `instructions/ref/deployment-diagram.puml`
- **ç”¨é€”**: ç³»ç»Ÿæž¶æž„å’ŒæŠ€æœ¯æ ˆ
- **æž¶æž„**: ä¸‰å±‚æž¶æž„ï¼ˆPresentation, Application, Data Layerï¼‰

#### ç”¨ä¾‹å›¾

- **æ–‡ä»¶**: `instructions/ref/usecase-diagram.puml`
- **ç”¨é€”**: ç³»ç»ŸåŠŸèƒ½æ¦‚è§ˆ
- **å…³é”®ç”¨ä¾‹**: Login, View Dashboard, Carbon Footprint Calculation

#### åºåˆ—å›¾ï¼ˆæ–°å®Œæˆï¼‰

- **ç”µåŠ›ä»ªè¡¨æ¿**: `deliverables/seq-electricity-dashboard.puml`
  - å®žæ—¶æ¨¡å¼ vs æ—¶é—´æ®µé€‰æ‹©æ¨¡å¼
  - é¢„æµ‹å’ŒæœŸé—´å¯¹æ¯”æµç¨‹
  - æŠ¥å‘Šå¯¼å‡ºæµç¨‹
- **AIèŠå¤©æœºå™¨äºº**: `deliverables/seq-ai-chatbot.puml`
  - è‡ªç„¶è¯­è¨€æŸ¥è¯¢å¤„ç†
  - æƒé™æ£€æŸ¥æµç¨‹
  - é”™è¯¯å¤„ç†æµç¨‹
- **æµ‹éªŒç®¡ç†**: `deliverables/seq-quiz-management.puml`
  - ç®¡ç†å‘˜åˆ›å»ºæµ‹éªŒ
  - QRç ç”Ÿæˆ
  - ç»“æžœæŸ¥çœ‹

#### æ´»åŠ¨å›¾ï¼ˆæ–°å®Œæˆï¼‰

- **ç”µåŠ›ä»ªè¡¨æ¿**: `deliverables/activity-electricity-dashboard.puml`
  - ç”¨æˆ·äº¤äº’æµç¨‹
  - æ•°æ®åŠ è½½å’Œå¯è§†åŒ–
  - æŠ¥å‘Šå¯¼å‡ºå†³ç­–ç‚¹
- **AIèŠå¤©æœºå™¨äºº**: `deliverables/activity-ai-chatbot.puml`
  - æŸ¥è¯¢å¤„ç†æµç¨‹
  - æƒé™éªŒè¯
  - é”™è¯¯å¤„ç†åˆ†æ”¯

### UIè®¾è®¡

- **Figmaå¯¼å‡º**: `instructions/ref/figma/` æ–‡ä»¶å¤¹
  - ç®¡ç†å‘˜ç•Œé¢è®¾è®¡
  - å›¢é˜Ÿæˆå‘˜ç•Œé¢è®¾è®¡
  - æŠ¥å‘Šå¯¼å‡ºç•Œé¢: export report 1-4.png
  - ä»ªè¡¨æ¿å¸ƒå±€å‚è€ƒ

---

## æœ€å°å¯è¡Œäº§å“ (MVP) åŠŸèƒ½æ¸…å•ï¼ˆæ›´æ–°ç‰ˆï¼‰

### ðŸ”´ P0 (å¿…é¡»å®žçŽ° - Prototypeæ¼”ç¤ºæ ¸å¿ƒ)

#### ç™»å½•ä¸Žç”¨æˆ·ç®¡ç†æ¨¡å—

- [ ] Userç±»åŠå…¶login/logoutæ–¹æ³•
- [ ] Adminç±»ï¼ˆç»§æ‰¿Userï¼‰åŠå…¶ç”¨æˆ·ç®¡ç†æ–¹æ³•
  - [ ] addUser() - æ·»åŠ æ–°ç”¨æˆ·
  - [ ] editUserPermissions() - ç¼–è¾‘æƒé™
  - [ ] assignRole() - åˆ†é…è§’è‰²
- [ ] TeamMemberç±»ï¼ˆç»§æ‰¿Userï¼‰åŠå…¶getPermissions()æ–¹æ³•
- [ ] AccessControlæƒé™æ£€æŸ¥
- [ ] JWT tokenç”Ÿæˆå’ŒéªŒè¯
- [ ] ç™»å½•é¡µé¢UI
- [ ] **ç”¨æˆ·ç®¡ç†é¡µé¢UIï¼ˆAdminä¸“ç”¨ï¼‰**
  - [ ] ç”¨æˆ·åˆ—è¡¨å±•ç¤º
  - [ ] æ·»åŠ ç”¨æˆ·è¡¨å•
  - [ ] ç¼–è¾‘ç”¨æˆ·è¡¨å•
  - [ ] æƒé™åˆ†é…ç•Œé¢
- [ ] è§’è‰²åŸºç¡€è·¯ç”±ï¼ˆAdmin â†’ ç”¨æˆ·ç®¡ç†ï¼ŒTeamMember â†’ Dashboardï¼‰
- [ ] **é‡è¦**: æ— æ³¨å†ŒåŠŸèƒ½ï¼Œæ‰€æœ‰ç”¨æˆ·ç”±Adminåˆ›å»º

#### ç¢³è¶³è¿¹æ¨¡å—ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰

- [ ] CarbonFootprintç±»åŠå…¶æ–¹æ³•
  - [ ] calculateFootprint() - è®¡ç®—ç¢³è¶³è¿¹
  - [ ] addBillEntry() - æ·»åŠ è´¦å•æ¡ç›®
  - [ ] calculateFromDatabase() - æ¨¡å¼1ï¼šæ•°æ®åº“è‡ªåŠ¨è®¡ç®—
  - [ ] calculateFromUserUpload() - æ¨¡å¼2ï¼šç”¨æˆ·ä¸´æ—¶ä¸Šä¼ 
  - [ ] overrideWithDIY() - DIYæ•°æ®è¦†ç›–
- [ ] BillEntryç±»
- [ ] ç¢³è¶³è¿¹é¡µé¢UI
  - [ ] **æ¨¡å¼1**: æ•°æ®åº“è‡ªåŠ¨è®¡ç®—å±•ç¤º
    - [ ] æ˜¾ç¤ºåŽ†å²ç¢³è¶³è¿¹æ•°æ®
    - [ ] æ˜¾ç¤ºè´¦å•æ¡ç›®åˆ—è¡¨
    - [ ] æ•°æ®æŒä¹…åŒ–
  - [ ] **æ¨¡å¼2**: ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ 
    - [ ] ä¸Šä¼ è¡¨å•ï¼ˆå¹´ã€æœˆã€ç”¨ç”µé‡ï¼‰
    - [ ] å®žæ—¶è®¡ç®—æ˜¾ç¤º
    - [ ] æ•°æ®ä¸æŒä¹…åŒ–æç¤º
  - [ ] æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
  - [ ] åŸºç¡€å›¾è¡¨å¯è§†åŒ–
- [ ] ç‹¬ç«‹çš„CARBON_FOOTPRINTæ•°æ®åº“è¡¨

#### UIç±»å®žçŽ°

- [ ] UIContextï¼ˆä½¿ç”¨React Context APIï¼‰
- [ ] UIç±»çš„attributeså’Œmethods
  - [ ] currentView
  - [ ] renderView()
  - [ ] updateUI()
  - [ ] displayWarning()
- [ ] ç»„åˆå…³ç³»å®žçŽ°
  - [ ] UI owns Dashboard
  - [ ] UI owns Filter
  - [ ] UI owns ReportCustomization
  - [ ] UI owns CarbonFootprint

#### ç±»å›¾å…³ç³»ï¼ˆæ ¸å¿ƒï¼‰

- [ ] æ‰€æœ‰ç»§æ‰¿å…³ç³»å®žçŽ°ï¼ˆAdmin/TeamMember â†’ Userï¼‰
- [ ] UIç±»çš„ç»„åˆå…³ç³»
- [ ] AccessControlçš„ä¾èµ–å…³ç³»

---

### ðŸŸ¡ P1 (æ—¶é—´å…è®¸åˆ™å®žçŽ° - å¢žå¼ºæ¼”ç¤ºæ•ˆæžœ)

#### ç”µåŠ›ä»ªè¡¨æ¿æ¨¡å—ï¼ˆåŸºç¡€ç‰ˆï¼‰

- [ ] ElectricityReportç±»åŠå…¶calculateCarbonFootprintæ–¹æ³•
- [ ] ReportåŸºç±»ï¼ˆSkeletonï¼‰
- [ ] Dashboardç±»åŠå…¶generateViewæ–¹æ³•
- [ ] ç”µåŠ›ä»ªè¡¨æ¿é¡µé¢UI
  - [ ] ç”µåŠ›æ¶ˆè€—æ•°æ®å±•ç¤ºï¼ˆåŸºç¡€å›¾è¡¨ï¼‰
  - [ ] **ç”µåŠ›æŠ¥å‘Šä¸­é›†æˆç¢³è¶³è¿¹æ•°æ®æ˜¾ç¤º**
  - [ ] è‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—
  - [ ] åŸºç¡€çš„æ•°æ®å¯è§†åŒ–
- [ ] CarbonFootprintå’ŒElectricityReportçš„ä¾èµ–å…³ç³»
- [ ] Dashboardå’ŒVisualizerçš„ä½¿ç”¨å…³ç³»

#### Visualizerç±»ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰

- [ ] Visualizerç±»åŠå…¶åŸºç¡€å›¾è¡¨ç”Ÿæˆæ–¹æ³•
- [ ] generateGraph() - ç”Ÿæˆå›¾è¡¨
- [ ] calculateSelfSufficiency() - è®¡ç®—è‡ªç»™è‡ªè¶³çŽ‡

---

### ðŸŸ¢ P2 (Skeletonå®žçŽ° - æ¡†æž¶æ­å»ºï¼ŒåŠŸèƒ½æœªæ¥å®žçŽ°)

#### Skeletonç±»

- [ ] ReportåŸºç±»ï¼ˆå®Œæ•´skeletonï¼‰
- [ ] WaterReportç±»ï¼ˆskeletonï¼‰
- [ ] ThermalReportç±»ï¼ˆskeletonï¼‰
- [ ] Filterç±»ï¼ˆskeletonï¼‰
- [ ] ReportCustomizationç±»ï¼ˆskeletonï¼‰
- [ ] Forecastç±»ï¼ˆskeletonï¼Œæ ‡æ³¨éœ€è¦çœŸå®žé¢„æµ‹ç®—æ³•ï¼‰
- [ ] PeriodComparisonç±»ï¼ˆskeletonï¼‰

#### Skeletoné¡µé¢

- [ ] WaterDashboardé¡µé¢ï¼ˆComing Soonï¼‰
- [ ] ThermalDashboardé¡µé¢ï¼ˆComing Soonï¼‰
- [ ] 3Då¯è§†åŒ–é¡µé¢ï¼ˆComing Soonï¼‰

#### æœªæ¥åŠŸèƒ½ï¼ˆæ ‡æ³¨ä½†ä¸å®žçŽ°ï¼‰

- [ ] Forecasté¢„æµ‹åŠŸèƒ½ï¼ˆéœ€è¦çœŸå®žç®—æ³•ï¼Œå¦‚ARIMAã€Prophetç­‰ï¼‰
- [ ] Period Comparisonï¼ˆYoY/PoPï¼‰
- [ ] æŠ¥å‘Šå¯¼å‡ºï¼ˆPDFï¼‰
- [ ] é«˜çº§å›¾è¡¨äº¤äº’
- [ ] æ•°æ®ç­›é€‰å’Œæœç´¢
- [ ] å“åº”å¼è®¾è®¡ä¼˜åŒ–

---

## å¼€å‘æ³¨æ„äº‹é¡¹

### 1. ç±»å›¾ä¸¥æ ¼éµå¾ª

- **æ‰€æœ‰ç±»å¿…é¡»åŒ…å«ç±»å›¾ä¸­å®šä¹‰çš„æ‰€æœ‰attributes**
- **æ‰€æœ‰æ–¹æ³•å¿…é¡»æŒ‰ç…§ç±»å›¾ä¸­çš„ç­¾åå®žçŽ°**
- **ç±»ä¹‹é—´çš„å…³ç³»å¿…é¡»åœ¨ä»£ç ä¸­ä½“çŽ°**
- **æ–¹æ³•å‘½åå¿…é¡»ä¸Žç±»å›¾ä¿æŒä¸€è‡´**

### 2. ç¢³è¶³è¿¹é›†æˆ

- ElectricityReportå¿…é¡»è°ƒç”¨CarbonFootprint.calculateFootprint()
- ç”µåŠ›æŠ¥å‘Šé¡µé¢å¿…é¡»åŒæ—¶æ˜¾ç¤ºç”µåŠ›æ•°æ®å’Œç¢³è¶³è¿¹æ•°æ®
- ä¸¤è€…çš„å…³è”å¿…é¡»æ¸…æ™°å¯è§

### 3. æ•°æ®å…³è”

- ç”µåŠ›æ•°æ®å’Œç¢³è¶³è¿¹æ•°æ®é€šè¿‡ç”¨æˆ·IDå…³è”
- è®¡ç®—å…¬å¼ï¼šç¢³æŽ’æ”¾ = ç”µåŠ›æ¶ˆè€— Ã— ç¢³æŽ’æ”¾å› å­ï¼ˆ0.5 kg CO2/kWhï¼‰
- ç¡®ä¿æ•°æ®ä¸€è‡´æ€§

### 4. æƒé™æŽ§åˆ¶

- æ‰€æœ‰APIè°ƒç”¨å‰å¿…é¡»æ£€æŸ¥æƒé™
- ä½¿ç”¨AccessControl.checkPermission()
- Adminæœ‰å…¨éƒ¨æƒé™ï¼ŒTeamMemberæ ¹æ®permissionsåˆ—è¡¨

### 5. é”™è¯¯å¤„ç†

- å®žçŽ°åŸºç¡€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
- APIè°ƒç”¨å¤±è´¥æ—¶æ˜¾ç¤ºå‹å¥½é”™è¯¯ä¿¡æ¯
- æ•°æ®éªŒè¯å’Œè¾¹ç•Œæ£€æŸ¥

### 6. ä»£ç å¤ç”¨

- å°½é‡å¤ç”¨ç»„ä»¶å’ŒAPIé€»è¾‘
- åˆ›å»ºå¯é‡ç”¨çš„å›¾è¡¨ç»„ä»¶
- ç»Ÿä¸€çš„APIè°ƒç”¨å°è£…

### 7. æµ‹è¯•æ•°æ®

- å‡†å¤‡å……è¶³çš„æµ‹è¯•æ•°æ®ä»¥å±•ç¤ºåŠŸèƒ½
- è‡³å°‘2ä¸ªç”¨æˆ·ï¼ˆAdminå’ŒTeamMemberï¼‰
- è‡³å°‘3ä¸ªæœˆçš„ç”µåŠ›å’Œç¢³è¶³è¿¹æ•°æ®

### 8. æ€§èƒ½è€ƒè™‘

- å¯¹äºŽåŽŸåž‹ï¼Œæ€§èƒ½ä¸æ˜¯é¦–è¦è€ƒè™‘
- ä½†è¦é¿å…æ˜Žæ˜¾çš„æ€§èƒ½é—®é¢˜
- åˆç†ä½¿ç”¨loadingçŠ¶æ€

### 9. æ–‡æ¡£å’Œæ³¨é‡Š

- åœ¨ä»£ç ä¸­æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- è¯´æ˜Žç±»å›¾å¯¹åº”å…³ç³»
- æ ‡æ³¨å…³é”®ä¸šåŠ¡é€»è¾‘

---

## é¢„è®¡å·¥ä½œé‡ï¼ˆæ›´æ–°ç‰ˆï¼‰

### æ€»ä½“ä¼°ç®—ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

- **P0 - å¿…é¡»å®Œæˆ**:

  - çŽ¯å¢ƒæ­å»º: 1-2å°æ—¶
  - æ•°æ®åº“è®¾è®¡: 1å°æ—¶
  - åŽç«¯APIï¼ˆç™»å½•+ç”¨æˆ·ç®¡ç†+ç¢³è¶³è¿¹ï¼‰: 4-5å°æ—¶
  - å‰ç«¯å¼€å‘ï¼ˆç™»å½•+ç”¨æˆ·ç®¡ç†+ç¢³è¶³è¿¹ï¼‰: 5-6å°æ—¶
  - é›†æˆæµ‹è¯•: 2-3å°æ—¶
  - **P0å°è®¡**: çº¦13-17å°æ—¶
- **P1 - æ—¶é—´å…è®¸**:

  - ç”µåŠ›ä»ªè¡¨æ¿åŽç«¯: 1.5å°æ—¶
  - ç”µåŠ›ä»ªè¡¨æ¿å‰ç«¯: 2å°æ—¶
  - **P1å°è®¡**: çº¦3.5å°æ—¶
- **P2 - Skeleton**:

  - Skeletonç±»å’Œé¡µé¢: 1-2å°æ—¶
  - **P2å°è®¡**: çº¦1-2å°æ—¶
- **æ€»è®¡**: çº¦17-22å°æ—¶ï¼ˆå»ºè®®é¢„ç•™2-3å°æ—¶ç¼“å†²ï¼‰

### æŒ‰æ¨¡å—ä¼°ç®—ï¼ˆè¯¦ç»†ï¼‰

| æ¨¡å—               | åŽç«¯ | å‰ç«¯ | æµ‹è¯• | æ€»è®¡ | ä¼˜å…ˆçº§ |
| ------------------ | ---- | ---- | ---- | ---- | ------ |
| çŽ¯å¢ƒæ­å»º           | 0.5h | 0.5h | 0.5h | 1.5h | ðŸ”´ P0  |
| æ•°æ®åº“è®¾è®¡         | 1h   | -    | 0.5h | 1.5h | ðŸ”´ P0  |
| ç™»å½•               | 1h   | 1h   | 0.5h | 2.5h | ðŸ”´ P0  |
| ç”¨æˆ·ç®¡ç†           | 1h   | 1.5h | 0.5h | 3h   | ðŸ”´ P0  |
| ç¢³è¶³è¿¹ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰ | 2h   | 2h   | 1h   | 5h   | ðŸ”´ P0  |
| UIç±»å®žçŽ°           | -    | 1h   | 0.5h | 1.5h | ðŸ”´ P0  |
| ç”µåŠ›ä»ªè¡¨æ¿         | 1.5h | 2h   | 1h   | 4.5h | ðŸŸ¡ P1  |
| Skeleton           | 0.5h | 1h   | 0.5h | 2h   | ðŸŸ¢ P2  |

### æŒ‰å‘¨è®¡åˆ’

**ç¬¬ä¸€å‘¨**ï¼ˆP0æ ¸å¿ƒåŠŸèƒ½ï¼‰:

- Day 1-2: çŽ¯å¢ƒæ­å»º + æ•°æ®åº“è®¾è®¡ + ç™»å½•åŠŸèƒ½
- Day 3-4: ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- Day 5-7: ç¢³è¶³è¿¹åŠŸèƒ½ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰

**ç¬¬äºŒå‘¨**ï¼ˆP1å’Œæµ‹è¯•ï¼‰:

- Day 1-2: ç”µåŠ›ä»ªè¡¨æ¿ï¼ˆå¦‚æžœæ—¶é—´å…è®¸ï¼‰
- Day 3-4: é›†æˆæµ‹è¯•å’Œbugä¿®å¤
- Day 5-7: UIä¼˜åŒ– + æ¼”ç¤ºå‡†å¤‡

**ç¼“å†²æ—¶é—´**: é¢„ç•™2-3å°æ—¶å¤„ç†æ„å¤–é—®é¢˜

---

## æ¼”ç¤ºå‡†å¤‡

### æ¼”ç¤ºè„šæœ¬ï¼ˆæ›´æ–°ç‰ˆï¼‰

#### 1. ç™»å½•æ¼”ç¤º (1.5åˆ†é’Ÿ)

- å±•ç¤ºç™»å½•é¡µé¢
- **å…ˆä½¿ç”¨Adminè´¦å·ç™»å½•**
- å±•ç¤ºAdminç™»å½•åŽè·³è½¬åˆ°ç”¨æˆ·ç®¡ç†é¡µé¢
- è¯´æ˜ŽUserç±»çš„login()æ–¹æ³•å®žçŽ°
- è¯´æ˜Žç³»ç»Ÿä¸ºå†…éƒ¨ç³»ç»Ÿï¼Œæ— æ³¨å†ŒåŠŸèƒ½

#### 2. ç”¨æˆ·ç®¡ç†æ¼”ç¤º (2.5åˆ†é’Ÿ) - ðŸ”´ æ ¸å¿ƒæ¼”ç¤º

- å±•ç¤ºç”¨æˆ·åˆ—è¡¨
- **æ¼”ç¤ºæ·»åŠ æ–°ç”¨æˆ·**ï¼ˆAdmin.addUser()ï¼‰
  - å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼ˆfirstName, lastName, email, passwordï¼‰
  - é€‰æ‹©è§’è‰²ï¼ˆAdminæˆ–TeamMemberï¼‰
  - åˆ›å»ºæˆåŠŸ
- **æ¼”ç¤ºç¼–è¾‘ç”¨æˆ·æƒé™**ï¼ˆAdmin.editUserPermissions()ï¼‰
  - é€‰æ‹©TeamMemberç”¨æˆ·
  - åˆ†é…æƒé™ï¼ˆå¦‚Electricity, Wateræƒé™ï¼‰
  - ä¿å­˜æˆåŠŸ
- è¯´æ˜ŽAdminç±»çš„å®žçŽ°å’Œç»§æ‰¿å…³ç³»
- å¼ºè°ƒAccessControl.checkPermission()çš„ä½¿ç”¨

#### 3. ç¢³è¶³è¿¹è¿½è¸ªæ¼”ç¤º (4åˆ†é’Ÿ) - ðŸ”´ æ ¸å¿ƒæ¼”ç¤ºï¼ˆéžå¹³å‡¡ç”¨ä¾‹ï¼‰

- ç™»å‡ºAdminï¼Œä½¿ç”¨TeamMemberè´¦å·ç™»å½•
- å¯¼èˆªåˆ°ç¢³è¶³è¿¹é¡µé¢
- **æ¨¡å¼1: æ•°æ®åº“è‡ªåŠ¨è®¡ç®—**
  - å±•ç¤ºä»Žæ•°æ®åº“è¯»å–çš„ç¢³è¶³è¿¹æ•°æ®
  - å±•ç¤ºåŽ†å²è´¦å•æ¡ç›®åˆ—è¡¨
  - å±•ç¤ºç¢³è¶³è¿¹è¶‹åŠ¿å›¾è¡¨
  - è¯´æ˜Žæ•°æ®æŒä¹…åŒ–å­˜å‚¨
- **æ¨¡å¼2: ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ **
  - åˆ‡æ¢åˆ°ä¸Šä¼ æ¨¡å¼
  - æ¼”ç¤ºä¸Šä¼ ç”µè´¹è´¦å•ï¼ˆå¹´ã€æœˆã€ç”¨ç”µé‡ï¼‰
  - å®žæ—¶è®¡ç®—å¹¶æ˜¾ç¤ºç¢³è¶³è¿¹
  - **å¼ºè°ƒ**: æ•°æ®ä¸ä¼šä¿å­˜ï¼Œå…³é—­æµè§ˆå™¨åŽæ¸…é™¤
  - è¯´æ˜ŽoverrideWithDIY()æ–¹æ³•
- è¯´æ˜ŽCarbonFootprintç±»çš„ä¸¤ç§è®¡ç®—æ¨¡å¼å®žçŽ°
- è¯´æ˜Žç‹¬ç«‹è¡¨è®¾è®¡çš„ä¼˜åŠ¿

#### 4. ç”µåŠ›ä»ªè¡¨æ¿æ¼”ç¤º (2åˆ†é’Ÿ) - ðŸŸ¡ å¦‚æžœæ—¶é—´å…è®¸

- å¯¼èˆªåˆ°ç”µåŠ›ä»ªè¡¨æ¿
- å±•ç¤ºç”µåŠ›æ¶ˆè€—å’Œå‘ç”µæ•°æ®
- **é‡ç‚¹å±•ç¤º**: ç¢³è¶³è¿¹æ•°æ®é›†æˆæ˜¾ç¤º
- è¯´æ˜ŽElectricityReport.calculateCarbonFootprint()çš„è°ƒç”¨
- å±•ç¤ºåŸºç¡€å›¾è¡¨å¯è§†åŒ–
- å±•ç¤ºè‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—
- è¯´æ˜ŽDashboard.generateView()çš„ä½¿ç”¨

#### 5. UIç±»å’Œç±»å›¾å¯¹åº”å…³ç³»è¯´æ˜Ž (2åˆ†é’Ÿ)

- å±•ç¤ºç±»å›¾æ–‡ä»¶ï¼ˆclass-diagram-optimized.pumlï¼‰
- **è¯´æ˜ŽUIç±»çš„å®žçŽ°**ï¼ˆä½¿ç”¨Context APIï¼‰
  - å±•ç¤ºUIContextä»£ç 
  - è¯´æ˜Žattributeså’Œmethods
  - è¯´æ˜Žç»„åˆå…³ç³»ï¼ˆowns Dashboard, Filter, CarbonFootprintç­‰ï¼‰
- è¯´æ˜Žå®žçŽ°çš„æ ¸å¿ƒç±»å’Œæ–¹æ³•
  - UseræŠ½è±¡ç±»åŠå…¶å­ç±»ï¼ˆAdmin, TeamMemberï¼‰
  - CarbonFootprintç±»åŠå…¶ä¸¤ç§æ¨¡å¼
  - AccessControlç±»
- å¼ºè°ƒä¸¥æ ¼éµå¾ªç±»å›¾çš„åŽŸåˆ™
- å±•ç¤ºå…³é”®å…³ç³»çš„ä»£ç å®žçŽ°ï¼ˆç»§æ‰¿ã€ç»„åˆã€ä¾èµ–ï¼‰

#### 6. Skeletonå±•ç¤º (1åˆ†é’Ÿ) - ðŸŸ¢ å¯é€‰

- å±•ç¤ºå…¶ä»–Dashboardé¡µé¢ï¼ˆWater, Thermalï¼‰çš„skeleton
- è¯´æ˜ŽForecastç±»æ ‡æ³¨ä¸ºæœªæ¥å®žçŽ°ï¼ˆéœ€è¦çœŸå®žé¢„æµ‹ç®—æ³•ï¼‰
- è¯´æ˜Žæ¡†æž¶å·²æ­å»ºï¼ŒåŠŸèƒ½å¯æ‰©å±•

### æ¼”ç¤ºæ•°æ®å‡†å¤‡

- åˆ›å»º2ä¸ªæµ‹è¯•ç”¨æˆ·ï¼ˆadmin@sait.ca, john.doe@sait.caï¼‰
- å‡†å¤‡3-6ä¸ªæœˆçš„ç”µåŠ›æ•°æ®
- å‡†å¤‡å¯¹åº”çš„ç¢³è¶³è¿¹æ•°æ®
- ç¡®ä¿æ•°æ®å…³è”æ­£ç¡®

### æŠ€æœ¯é—®é¢˜å‡†å¤‡

- å¦‚ä½•å®žçŽ°ç±»å›¾ä¸­çš„ç»§æ‰¿å…³ç³»ï¼Ÿ
- å¦‚ä½•ç¡®ä¿ç¢³è¶³è¿¹æ•°æ®æ˜¾ç¤ºåœ¨ç”µåŠ›æŠ¥å‘Šä¸­ï¼Ÿ
- å¦‚ä½•å®žçŽ°æƒé™æŽ§åˆ¶ï¼Ÿ
- æ•°æ®åº“è®¾è®¡å¦‚ä½•å¯¹åº”ERDå›¾ï¼Ÿ
- å‰åŽç«¯å¦‚ä½•é€šä¿¡ï¼Ÿ

---

## ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆ2025-11-28æ›´æ–°ï¼‰

### âœ… å·²å®Œæˆï¼ˆ2025-11-27 ~ 2025-11-28ï¼‰

**çŽ¯å¢ƒæ­å»º**:

- âœ… åˆ›å»ºVite + Reacté¡¹ç›®
- âœ… å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆMaterial-UI, Chart.js, React Routerç­‰ï¼‰
- âœ… åˆ›å»ºExpressåŽç«¯æœåŠ¡å™¨
- âœ… é…ç½®çŽ¯å¢ƒå˜é‡ï¼ˆ.envæ–‡ä»¶ï¼‰

**P0æ ¸å¿ƒåŠŸèƒ½**:

- âœ… ç™»å½•æ¨¡å—ï¼ˆ100%å®Œæˆï¼‰
- âœ… ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆ100%å®Œæˆï¼‰
- âœ… ç¢³è¶³è¿¹è¿½è¸ªæ¨¡å—ï¼ˆ100%å®Œæˆï¼‰
  - âœ… æ¨¡å¼1ï¼šMockæ•°æ®è‡ªåŠ¨è®¡ç®—
  - âœ… æ¨¡å¼2ï¼šç”¨æˆ·ä¸´æ—¶ä¸Šä¼ 
  - âœ… ä¸‰ç§è§†å›¾ï¼šReal-time, Daily, Long-term
  - âœ… Chart.jså¯è§†åŒ–
  - âœ… Electricity Maps APIé›†æˆ

**æž¶æž„å®žçŽ°**:

- âœ… ç»„ä»¶åŒ–æž¶æž„ï¼ˆContainer/Presentationæ¨¡å¼ï¼‰
- âœ… å‰åŽç«¯åˆ†ç¦»ï¼ˆRESTful APIï¼‰
- âœ… æƒé™ç®¡ç†ç³»ç»Ÿï¼ˆå¤šé€‰æƒé™ï¼‰
- âœ… ä¸‰Panelå¸ƒå±€ï¼ˆSidebar + Main + AI Chatbotï¼‰

### ðŸ”„ ä¸‹ä¸€æ­¥ä»»åŠ¡ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

**P1 - ç”µåŠ›ä»ªè¡¨æ¿æ¨¡å—**:

1. â³ åˆ›å»ºElectricityDashboardPageç»„ä»¶
2. â³ å®žçŽ°Reportå’ŒElectricityReportç±»
3. â³ é›†æˆç¢³è¶³è¿¹æ•°æ®æ˜¾ç¤º
4. â³ å®žçŽ°è‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—
5. â³ æ·»åŠ æ•°æ®ç­›é€‰åŠŸèƒ½

**æ•°æ®åº“è¿ç§»ï¼ˆWeek 1-2ï¼‰**:

1. â³ è®¾è®¡SQL Serverè¡¨ç»“æž„
2. â³ åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬
3. â³ æ›´æ–°åŽç«¯Serviceå±‚è¿žæŽ¥æ•°æ®åº“
4. â³ è¿ç§»Mockæ•°æ®åˆ°æ•°æ®åº“
5. â³ å®žçŽ°JWT tokenè®¤è¯

**P2 - Skeletonå®žçŽ°**:

1. â¸ï¸ åˆ›å»ºWaterReportå’ŒThermalReportç±»ï¼ˆSkeletonï¼‰
2. â¸ï¸ åˆ›å»ºForecastç±»ï¼ˆSkeletonï¼‰
3. â¸ï¸ åˆ›å»ºPeriodComparisonç±»ï¼ˆSkeletonï¼‰
4. â¸ï¸ åˆ›å»º3Då¯è§†åŒ–å ä½é¡µé¢

### å…³é”®å†³ç­–è®°å½•

- âœ… ä½¿ç”¨Mockæ•°æ®ä»£æ›¿SQL Serverï¼ˆPrototypeé˜¶æ®µï¼‰
- âœ… ä½¿ç”¨Session-basedè®¤è¯ä»£æ›¿JWTï¼ˆPrototypeé˜¶æ®µï¼‰
- âœ… é‡‡ç”¨ç»„ä»¶åŒ–æž¶æž„ï¼ˆé¿å…God Modeï¼‰
- âœ… é›†æˆElectricity Maps APIï¼ˆå®žæ—¶ç¢³å¼ºåº¦ï¼‰
- âœ… ä½¿ç”¨Chart.jsè¿›è¡Œæ•°æ®å¯è§†åŒ–
- âœ… ç³»ç»Ÿä¸ºå†…éƒ¨ç³»ç»Ÿï¼Œæ— æ³¨å†ŒåŠŸèƒ½

---

## æˆåŠŸæ ‡å‡†ï¼ˆ2025-11-28æ›´æ–°ï¼‰

### âœ… P0åŠŸèƒ½å®Œæ•´æ€§ï¼ˆå·²è¾¾æˆï¼‰

- âœ… **ç™»å½•ä¸Žç”¨æˆ·ç®¡ç†**

  - âœ… Adminå’ŒTeamMemberå¯ä»¥æˆåŠŸç™»å½•å’Œç™»å‡º
  - âœ… Adminå¯ä»¥æ·»åŠ æ–°ç”¨æˆ·ï¼ˆæ— æ³¨å†ŒåŠŸèƒ½ï¼‰
  - âœ… Adminå¯ä»¥ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯å’Œæƒé™
  - âœ… Adminå¯ä»¥åˆ é™¤ç”¨æˆ·ï¼ˆä¸èƒ½åˆ é™¤è‡ªå·±ï¼‰
  - âœ… è§’è‰²åŸºç¡€è·¯ç”±æ­£ç¡®ï¼ˆAdmin â†’ ç”¨æˆ·ç®¡ç†ï¼ŒTeamMember â†’ Dashboardï¼‰
  - âœ… æƒé™ç®¡ç†ç³»ç»Ÿï¼ˆå¤šé€‰æƒé™ï¼‰
  - âœ… Sidebaræƒé™è¿‡æ»¤
- âœ… **ç¢³è¶³è¿¹è¿½è¸ªï¼ˆä¸¤ç§æ¨¡å¼ï¼‰**

  - âœ… æ¨¡å¼1ï¼šä»ŽMockæ•°æ®è‡ªåŠ¨è®¡ç®—ç¢³è¶³è¿¹
  - âœ… æ¨¡å¼2ï¼šç”¨æˆ·ä¸´æ—¶ä¸Šä¼ è®¡ç®—ï¼ˆä¸æŒä¹…åŒ–ï¼‰
  - âœ… ä¸‰ç§è§†å›¾ï¼šReal-time, Daily, Long-term
  - âœ… æ•°æ®å¯è§†åŒ–ï¼ˆChart.jsåŒçº¿æŠ˜çº¿å›¾ï¼‰
  - âœ… åŽ†å²æ•°æ®è¿½è¸ª
  - âœ… æ—¥æœŸæ—¶é—´å¤„ç†ï¼ˆæœ¬åœ°æ—¶é—´ã€é˜²æ­¢æœªæ¥æ—¥æœŸï¼‰
  - âœ… Electricity Maps APIé›†æˆ
- âœ… **æž¶æž„å®žçŽ°**

  - âœ… ç»„ä»¶åŒ–æž¶æž„ï¼ˆContainer/Presentationæ¨¡å¼ï¼‰
  - âœ… å‰åŽç«¯åˆ†ç¦»ï¼ˆRESTful APIï¼‰
  - âœ… ä¸‰Panelå¸ƒå±€ï¼ˆSidebar + Main + AI Chatbotï¼‰
  - âœ… å“åº”å¼è®¾è®¡
- âœ… **ç±»å›¾éµå¾ª**

  - âœ… User, Admin, TeamMember, AccessControlç±»å·²å®žçŽ°
  - âœ… ä¸¥æ ¼éµå¾ªclass-diagram-optimized.puml
  - âœ… æ‰€æœ‰attributeså’Œmethodså®Œæ•´

### â³ P1åŠŸèƒ½ç›®æ ‡ï¼ˆå¾…è¾¾æˆï¼‰

- â³ **ç”µåŠ›ä»ªè¡¨æ¿**

  - â³ æ˜¾ç¤ºç”µåŠ›æ¶ˆè€—å’Œå‘ç”µæ•°æ®
  - â³ é›†æˆç¢³è¶³è¿¹æ•°æ®æ˜¾ç¤º
  - â³ è‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—
  - â³ æ•°æ®ç­›é€‰åŠŸèƒ½

  - [ ] æ‰€æœ‰P0æ ¸å¿ƒç±»éƒ½å·²å®žçŽ°ï¼ˆUser, Admin, TeamMember, CarbonFootprint, BillEntry, AccessControl, UIï¼‰
  - [ ] æ‰€æœ‰P0å…³é”®æ–¹æ³•éƒ½å·²å®žçŽ°
  - [ ] ç»§æ‰¿å…³ç³»æ­£ç¡®ï¼ˆAdmin/TeamMember â†’ Userï¼‰

### åŠŸèƒ½å®Œæ•´æ€§ - P1ï¼ˆæ—¶é—´å…è®¸ï¼‰

- [ ] ç”µåŠ›ä»ªè¡¨æ¿åŸºç¡€åŠŸèƒ½
- [ ] ç”µåŠ›æŠ¥å‘Šä¸­æ˜¾ç¤ºç¢³è¶³è¿¹æ•°æ®
- [ ] è‡ªç»™è‡ªè¶³çŽ‡è®¡ç®—

### ä»£ç è´¨é‡

- [ ] ä»£ç ç»“æž„æ¸…æ™°ï¼Œéµå¾ªç±»å›¾è®¾è®¡
- [ ] æ‰€æœ‰ç±»åŒ…å«ç±»å›¾å®šä¹‰çš„attributeså’Œmethods
- [ ] ç±»ä¹‹é—´çš„å…³ç³»æ­£ç¡®å®žçŽ°ï¼ˆç»§æ‰¿ã€ç»„åˆã€ä¾èµ–ï¼‰
- [ ] æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†ï¼ˆä½¿ç”¨UI.displayWarning()ï¼‰
- [ ] æœ‰å¿…è¦çš„ä»£ç æ³¨é‡Šï¼ˆæ ‡æ³¨ç±»å›¾å¯¹åº”å…³ç³»ï¼‰
- [ ] æ•°æ®åº“è®¾è®¡ç¬¦åˆè§„èŒƒï¼ˆç‹¬ç«‹è¡¨ï¼Œå¤–é”®çº¦æŸï¼‰

### æ¼”ç¤ºå°±ç»ª

- [ ] ç³»ç»Ÿå¯ä»¥ç¨³å®šè¿è¡Œ
- [ ] æœ‰å……è¶³çš„æµ‹è¯•æ•°æ®ï¼ˆè‡³å°‘2ä¸ªç”¨æˆ·ï¼š1ä¸ªAdminï¼Œ1ä¸ªTeamMemberï¼‰
- [ ] æœ‰æµ‹è¯•ç¢³è¶³è¿¹æ•°æ®ï¼ˆè‡³å°‘3ä¸ªæœˆï¼‰
- [ ] UIç•Œé¢å‹å¥½ï¼ŒåŠŸèƒ½å¯ç”¨
- [ ] å¯ä»¥æ¸…æ™°å±•ç¤ºç±»å›¾å¯¹åº”å…³ç³»
- [ ] å¯ä»¥æ¼”ç¤ºä¸¤ç§ç¢³è¶³è¿¹è®¡ç®—æ¨¡å¼
- [ ] å¯ä»¥æ¼”ç¤ºç”¨æˆ·ç®¡ç†åŠŸèƒ½
- [ ] å¯ä»¥å›žç­”æŠ€æœ¯é—®é¢˜

### æ¼”ç¤ºé‡ç‚¹

- [ ] **éžå¹³å‡¡ç”¨ä¾‹**: ç¢³è¶³è¿¹è¿½è¸ªï¼ˆä¸¤ç§æ¨¡å¼ï¼‰
- [ ] **å†…éƒ¨ç³»ç»Ÿ**: æ— æ³¨å†ŒåŠŸèƒ½ï¼ŒAdminç®¡ç†ç”¨æˆ·
- [ ] **ç±»å›¾éµå¾ª**: ä¸¥æ ¼æŒ‰ç…§ç±»å›¾å®žçŽ°
- [ ] **UIç±»å®žçŽ°**: ä½¿ç”¨Context APIå®žçŽ°UIç±»

---

**æœ€åŽæ›´æ–°**: 2025-11-27
**æ–‡æ¡£ç‰ˆæœ¬**: 3.0 (æ ¹æ®å›¢é˜Ÿåé¦ˆæ›´æ–°)
**çŠ¶æ€**: å‡†å¤‡å¼€å§‹å®žçŽ°

**é‡è¦æé†’**:

- æ‰€æœ‰å®žçŽ°å¿…é¡»ä¸¥æ ¼éµå¾ª `class-diagram-optimized.puml`
- **Prototypeä¼˜å…ˆçº§**: Login + ç”¨æˆ·ç®¡ç† + ç¢³è¶³è¿¹ï¼ˆä¸¤ç§æ¨¡å¼ï¼‰
- ç³»ç»Ÿä¸º**å†…éƒ¨ç³»ç»Ÿ**ï¼Œæ— æ³¨å†ŒåŠŸèƒ½ï¼Œç”¨æˆ·ç”±Adminç»Ÿä¸€ç®¡ç†
- ç¢³è¶³è¿¹æ”¯æŒ**ä¸¤ç§æ¨¡å¼**ï¼šæ•°æ®åº“è‡ªåŠ¨è®¡ç®— + ç”¨æˆ·ä¸´æ—¶ä¸Šä¼ 
- UIç±»ä½¿ç”¨**Context API**å®žçŽ°ï¼Œç¬¦åˆç±»å›¾è¦æ±‚
- ForecaståŠŸèƒ½éœ€è¦**çœŸå®žé¢„æµ‹ç®—æ³•**ï¼ŒPrototypeé˜¶æ®µä¸å®žçŽ°
- è¿™æ˜¯Phase 3çš„æ ¸å¿ƒè¦æ±‚ï¼Œå¿…é¡»åœ¨æ¼”ç¤ºä¸­æ¸…æ™°å±•ç¤º

---

## é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ

### å…³é”®æ–‡ä»¶è·¯å¾„

```
instructions/
â”œâ”€â”€ Phase3_extracted.md                    # Phase 3è¦æ±‚
â”œâ”€â”€ ref/
â”‚   â”œâ”€â”€ Phase2_extracted.md                # Phase 2è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ CaseStudy_extracted.md             # é¡¹ç›®ç®¡ç†æ–‡æ¡£
â”‚   â”œâ”€â”€ class-diagram-optimized.puml       # ç±»å›¾ï¼ˆæœ€é‡è¦ï¼‰
â”‚   â”œâ”€â”€ erd-diagram.puml                   # ERDå›¾
â”‚   â”œâ”€â”€ deployment-diagram.puml            # éƒ¨ç½²å›¾
â”‚   â”œâ”€â”€ usecase-diagram.puml               # ç”¨ä¾‹å›¾
â”‚   â””â”€â”€ figma/                             # UIè®¾è®¡

deliverables/
â”œâ”€â”€ seq-electricity-dashboard.puml         # ç”µåŠ›ä»ªè¡¨æ¿åºåˆ—å›¾
â”œâ”€â”€ seq-ai-chatbot.puml                    # AIèŠå¤©æœºå™¨äººåºåˆ—å›¾
â”œâ”€â”€ seq-quiz-management.puml               # æµ‹éªŒç®¡ç†åºåˆ—å›¾
â”œâ”€â”€ activity-electricity-dashboard.puml    # ç”µåŠ›ä»ªè¡¨æ¿æ´»åŠ¨å›¾
â””â”€â”€ activity-ai-chatbot.puml               # AIèŠå¤©æœºå™¨äººæ´»åŠ¨å›¾
```

### æ ¸å¿ƒç±»å¿«é€Ÿç´¢å¼•

- **User** (æŠ½è±¡): id, firstName, lastName, email, password, role | createUser(), login(), logout()
- **CarbonFootprint**: id, co2Emission, billEntries | calculateFootprint(), addBillEntry(), overrideWithDIY()
- **BillEntry**: id, year, month, electricityUsage
- **ElectricityReport** (ç»§æ‰¿Report): electricityConsumption, electricityGeneration | calculateCarbonFootprint(), generateHotspotMap(), generateCarbonVsConsumptionChart()
- **Dashboard**: id, dashboardType | generateView(), filterByPermissions()
- **Visualizer**: id, visualizeType | generateGraph(), calculateSelfSufficiency(), renderHotspotMap()

### å…³é”®å…³ç³»å¿«é€Ÿç´¢å¼•

- CarbonFootprint "1" --> "1" ElectricityReport : calculates
- UI "1" *-- "1" CarbonFootprint : owns
- ElectricityReport --|> Report : is-a
- Dashboard --> Visualizer : uses
- Dashboard ..> AccessControl : checks permission
